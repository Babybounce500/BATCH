<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Innovation Lab</title>
    <meta name="description" content="Advanced interface for interacting with Google's Gemini AI models">
    <style>
        :root {
            --primary-color: #4285F4;
            --secondary-color: #EA4335;
            --accent-color: #FBBC05;
            --success-color: #34A853;
            --dark-bg: #202124;
            --light-bg: #2D2E30;
            --text-color: #E8EAED;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Orbitron', sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            display: grid;
            grid-template-rows: auto 1fr auto;
        }

        header {
            background-color: var(--light-bg);
            padding: 1rem;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background-color: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .logo-text {
            font-size: clamp(1.2rem, 2vw, 1.5rem);
            font-weight: 700;
        }

        nav {
            display: flex;
            gap: 1rem;
        }

        nav a {
            color: var(--text-color);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        nav a:hover {
            background-color: var(--light-bg);
        }

        .main-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 1rem;
            max-width: 1200px;
            margin: 1rem auto;
            padding: 0 1rem;
        }

        aside {
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 1rem;
            height: fit-content;
        }

        .sidebar-section {
            margin-bottom: 1.5rem;
        }

        .sidebar-section h3 {
            margin-bottom: 1rem;
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        .sidebar-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .sidebar-item {
            padding: 0.5rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        .sidebar-item:hover {
            background-color: var(--dark-bg);
        }

        .sidebar-item.active {
            background-color: var(--primary-color);
            color: white;
        }

        main {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .card {
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--box-shadow);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .card-title {
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .card-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-family: 'Orbitron', sans-serif;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #3367D6;
        }

        .btn-secondary {
            background-color: var(--secondary-color);
            color: white;
        }

        .btn-secondary:hover {
            background-color: #D33A2C;
        }

        .btn-accent {
            background-color: var(--accent-color);
            color: black;
        }

        .btn-accent:hover {
            background-color: #E0AC00;
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

        .btn-success:hover {
            background-color: #2D8E46;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
        }

        .form-control {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #444;
            border-radius: var(--border-radius);
            background-color: var(--dark-bg);
            color: var(--text-color);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-select {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #444;
            border-radius: var(--border-radius);
            background-color: var(--dark-bg);
            color: var(--text-color);
        }

        .form-checkbox {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-checkbox input {
            width: 16px;
            height: 16px;
        }

        .response-container {
            background-color: var(--dark-bg);
            border-radius: var(--border-radius);
            padding: 1rem;
            margin-top: 1rem;
            min-height: 200px;
        }

        .response-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .response-title {
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .response-content {
            white-space: pre-wrap;
            font-family: monospace;
        }

        .tab-container {
            display: flex;
            margin-bottom: 1rem;
        }

        .tab {
            padding: 0.5rem 1rem;
            cursor: pointer;
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            transition: var(--transition);
        }

        .tab.active {
            background-color: var(--primary-color);
            color: white;
        }

        .tab-content {
            display: none;
            padding: 1rem;
            background-color: var(--dark-bg);
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            border: 1px solid var(--primary-color);
            border-top: none;
        }

        .tab-content.active {
            display: block;
        }

        .file-dropzone {
            border: 2px dashed #444;
            border-radius: var(--border-radius);
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .file-dropzone:hover {
            border-color: var(--primary-color);
            background-color: rgba(66, 133, 244, 0.1);
        }

        .file-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        .file-item:hover {
            background-color: var(--dark-bg);
        }

        .file-icon {
            margin-right: 0.5rem;
        }

        .file-actions {
            display: flex;
            gap: 0.5rem;
        }

        .model-card {
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 1rem;
            margin-bottom: 1rem;
            box-shadow: var(--box-shadow);
        }

        .model-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .model-name {
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .model-description {
            margin-bottom: 0.5rem;
        }

        .model-features {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .model-feature {
            background-color: var(--dark-bg);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
        }

        .model-benchmarks {
            display: flex;
            gap: 1rem;
        }

        .benchmark-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .benchmark-value {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .benchmark-label {
            font-size: 0.8rem;
            color: #999;
        }

        .image-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .image-control {
            flex: 1;
            min-width: 200px;
        }

        .image-preview {
            width: 100%;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
        }

        .canvas-container {
            position: relative;
            width: 100%;
            height: 500px;
            background-color: var(--dark-bg);
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .canvas-tools {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .canvas-tool {
            padding: 0.5rem;
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .canvas-tool:hover {
            background-color: var(--primary-color);
        }

        .canvas-tool.active {
            background-color: var(--primary-color);
        }

        .storyboard {
            display: flex;
            overflow-x: auto;
            gap: 1rem;
            padding: 1rem 0;
        }

        .storyboard-item {
            min-width: 200px;
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 0.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .storyboard-item:hover {
            background-color: var(--primary-color);
        }

        .storyboard-item.active {
            background-color: var(--primary-color);
        }

        .storyboard-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: var(--border-radius);
            margin-bottom: 0.5rem;
        }

        .video-player {
            width: 100%;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
        }

        .workflow-designer {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .workflow-step {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
        }

        .workflow-step-icon {
            width: 40px;
            height: 40px;
            background-color: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .workflow-step-content {
            flex: 1;
        }

        .comparison-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }

        .comparison-item {
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 1rem;
        }

        .comparison-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .comparison-title {
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .comparison-content {
            margin-bottom: 0.5rem;
        }

        .comparison-metrics {
            display: flex;
            gap: 1rem;
        }

        .metric-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .metric-value {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .metric-label {
            font-size: 0.8rem;
            color: #999;
        }

        .token-calculator {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .token-inputs {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .token-results {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .token-result {
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 1rem;
        }

        .token-result-title {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .token-result-value {
            font-size: 2rem;
            font-weight: bold;
        }

        .token-result-unit {
            font-size: 1.2rem;
            color: #999;
        }

        .token-suggestions {
            margin-top: 1rem;
        }

        .token-suggestion {
            margin-bottom: 0.5rem;
        }

        .token-suggestion-title {
            font-weight: bold;
            color: var(--primary-color);
        }

        footer {
            background-color: var(--light-bg);
            padding: 1rem;
            text-align: center;
            margin-top: auto;
        }

        @media (max-width: 768px) {
            .main-container {
                grid-template-columns: 1fr;
            }

            .header-container {
                flex-direction: column;
                gap: 1rem;
            }

            nav {
                flex-wrap: wrap;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .card-actions {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }

            .token-calculator {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo">
                <div class="logo-icon">G</div>
                <h1 class="logo-text">Gemini Innovation Lab</h1>
            </div>
            <nav>
                <a href="#text-generation">Text</a>
                <a href="#embeddings">Embeddings</a>
                <a href="#file-manager">Files</a>
                <a href="#models">Models</a>
                <a href="#imagen">Imagen</a>
                <a href="#veo">Veo</a>
                <a href="#workflow">Workflow</a>
                <a href="#comparison">Comparison</a>
                <a href="#settings">Settings</a>
                <a href="#history">History</a>
                <a href="#tokens">Tokens</a>
            </nav>
        </div>
    </header>
    <div class="main-container">
        <aside>
            <div class="sidebar-section">
                <h3>API Key</h3>
                <div class="form-group">
                    <label for="api-key">API Key</label>
                    <input type="password" id="api-key" class="form-control" placeholder="Enter your API key">
                </div>
                <button id="save-api-key" class="btn btn-primary">Save</button>
            </div>
            <div class="sidebar-section">
                <h3>Quick Access</h3>
                <div class="sidebar-list">
                    <div class="sidebar-item" data-target="#text-generation">Text Generation</div>
                    <div class="sidebar-item" data-target="#embeddings">Embeddings</div>
                    <div class="sidebar-item" data-target="#file-manager">File Manager</div>
                    <div class="sidebar-item" data-target="#models">Models</div>
                    <div class="sidebar-item" data-target="#imagen">Imagen</div>
                    <div class="sidebar-item" data-target="#veo">Veo</div>
                    <div class="sidebar-item" data-target="#workflow">Workflow</div>
                    <div class="sidebar-item" data-target="#comparison">Comparison</div>
                    <div class="sidebar-item" data-target="#settings">Settings</div>
                    <div class="sidebar-item" data-target="#history">History</div>
                    <div class="sidebar-item" data-target="#tokens">Tokens</div>
                </div>
            </div>
        </aside>
        <main>
            <section id="text-generation" class="card">
                <div class="card-header">
                    <h2 class="card-title">Text Generation</h2>
                    <div class="card-actions">
                        <button class="btn btn-primary" id="generate-text">Generate</button>
                        <button class="btn btn-secondary" id="stream-text">Stream</button>
                        <button class="btn btn-accent" id="batch-text">Batch</button>
                    </div>
                </div>
                <div class="tab-container">
                    <div class="tab active" data-tab="generate">Generate</div>
                    <div class="tab" data-tab="stream">Stream</div>
                    <div class="tab" data-tab="batch">Batch</div>
                </div>
                <div class="tab-content active" data-tab="generate">
                    <div class="form-group">
                        <label for="generate-model">Model</label>
                        <select id="generate-model" class="form-select">
                            <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                            <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="generate-prompt">Prompt</label>
                        <textarea id="generate-prompt" class="form-control form-textarea" placeholder="Enter your prompt"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="generate-parameters">Parameters</label>
                        <div id="generate-parameters">
                            <div class="form-group">
                                <label for="generate-temperature">Temperature</label>
                                <input type="range" id="generate-temperature" class="form-control" min="0" max="1" step="0.1" value="0.7">
                            </div>
                            <div class="form-group">
                                <label for="generate-top-p">Top P</label>
                                <input type="range" id="generate-top-p" class="form-control" min="0" max="1" step="0.1" value="0.9">
                            </div>
                            <div class="form-group">
                                <label for="generate-top-k">Top K</label>
                                <input type="range" id="generate-top-k" class="form-control" min="0" max="100" step="1" value="40">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-checkbox">
                            <input type="checkbox" id="generate-safety">
                            <label for="generate-safety">Enable safety filters</label>
                        </div>
                    </div>
                </div>
                <div class="tab-content" data-tab="stream">
                    <div class="form-group">
                        <label for="stream-model">Model</label>
                        <select id="stream-model" class="form-select">
                            <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                            <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="stream-prompt">Prompt</label>
                        <textarea id="stream-prompt" class="form-control form-textarea" placeholder="Enter your prompt"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="stream-parameters">Parameters</label>
                        <div id="stream-parameters">
                            <div class="form-group">
                                <label for="stream-temperature">Temperature</label>
                                <input type="range" id="stream-temperature" class="form-control" min="0" max="1" step="0.1" value="0.7">
                            </div>
                            <div class="form-group">
                                <label for="stream-top-p">Top P</label>
                                <input type="range" id="stream-top-p" class="form-control" min="0" max="1" step="0.1" value="0.9">
                            </div>
                            <div class="form-group">
                                <label for="stream-top-k">Top K</label>
                                <input type="range" id="stream-top-k" class="form-control" min="0" max="100" step="1" value="40">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-checkbox">
                            <input type="checkbox" id="stream-safety">
                            <label for="stream-safety">Enable safety filters</label>
                        </div>
                    </div>
                </div>
                <div class="tab-content" data-tab="batch">
                    <div class="form-group">
                        <label for="batch-model">Model</label>
                        <select id="batch-model" class="form-select">
                            <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                            <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="batch-prompts">Prompts (one per line)</label>
                        <textarea id="batch-prompts" class="form-control form-textarea" placeholder="Enter your prompts"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="batch-parameters">Parameters</label>
                        <div id="batch-parameters">
                            <div class="form-group">
                                <label for="batch-temperature">Temperature</label>
                                <input type="range" id="batch-temperature" class="form-control" min="0" max="1" step="0.1" value="0.7">
                            </div>
                            <div class="form-group">
                                <label for="batch-top-p">Top P</label>
                                <input type="range" id="batch-top-p" class="form-control" min="0" max="1" step="0.1" value="0.9">
                            </div>
                            <div class="form-group">
                                <label for="batch-top-k">Top K</label>
                                <input type="range" id="batch-top-k" class="form-control" min="0" max="100" step="1" value="40">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-checkbox">
                            <input type="checkbox" id="batch-safety">
                            <label for="batch-safety">Enable safety filters</label>
                        </div>
                    </div>
                </div>
                <div class="response-container">
                    <div class="response-header">
                        <h3 class="response-title">Response</h3>
                        <div class="card-actions">
                            <button class="btn btn-primary" id="copy-response">Copy</button>
                            <button class="btn btn-secondary" id="clear-response">Clear</button>
                        </div>
                    </div>
                    <div class="response-content" id="text-response"></div>
                </div>
            </section>
            <section id="embeddings" class="card">
                <div class="card-header">
                    <h2 class="card-title">Embeddings</h2>
                    <div class="card-actions">
                        <button class="btn btn-primary" id="generate-embeddings">Generate</button>
                        <button class="btn btn-secondary" id="batch-embeddings">Batch</button>
                    </div>
                </div>
                <div class="tab-container">
                    <div class="tab active" data-tab="generate">Generate</div>
                    <div class="tab" data-tab="batch">Batch</div>
                </div>
                <div class="tab-content active" data-tab="generate">
                    <div class="form-group">
                        <label for="embeddings-model">Model</label>
                        <select id="embeddings-model" class="form-select">
                            <option value="text-embedding-004">Text Embedding 004</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="embeddings-text">Text</label>
                        <textarea id="embeddings-text" class="form-control form-textarea" placeholder="Enter your text"></textarea>
                    </div>
                </div>
                <div class="tab-content" data-tab="batch">
                    <div class="form-group">
                        <label for="batch-embeddings-model">Model</label>
                        <select id="batch-embeddings-model" class="form-select">
                            <option value="text-embedding-004">Text Embedding 004</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="batch-embeddings-texts">Texts (one per line)</label>
                        <textarea id="batch-embeddings-texts" class="form-control form-textarea" placeholder="Enter your texts"></textarea>
                    </div>
                </div>
                <div class="response-container">
                    <div class="response-header">
                        <h3 class="response-title">Response</h3>
                        <div class="card-actions">
                            <button class="btn btn-primary" id="copy-embeddings">Copy</button>
                            <button class="btn btn-secondary" id="clear-embeddings">Clear</button>
                            <button class="btn btn-accent" id="visualize-embeddings">Visualize</button>
                        </div>
                    </div>
                    <div class="response-content" id="embeddings-response"></div>
                </div>
            </section>
            <section id="file-manager" class="card">
                <div class="card-header">
                    <h2 class="card-title">File Manager</h2>
                    <div class="card-actions">
                        <button class="btn btn-primary" id="refresh-files">Refresh</button>
                    </div>
                </div>
                <div class="file-dropzone" id="file-dropzone">
                    <p>Drag & drop files here or click to select files</p>
                    <input type="file" id="file-input" multiple style="display: none;">
                </div>
                <div class="form-group">
                    <label for="file-search">Search</label>
                    <input type="text" id="file-search" class="form-control" placeholder="Search files">
                </div>
                <div class="file-list" id="file-list"></div>
                <div class="response-container">
                    <div class="response-header">
                        <h3 class="response-title">File Details</h3>
                        <div class="card-actions">
                            <button class="btn btn-primary" id="copy-file-details">Copy</button>
                            <button class="btn btn-secondary" id="clear-file-details">Clear</button>
                        </div>
                    </div>
                    <div class="response-content" id="file-details"></div>
                </div>
            </section>
            <section id="models" class="card">
                <div class="card-header">
                    <h2 class="card-title">Models</h2>
                </div>
                <div class="model-card">
                    <div class="model-header">
                        <h3 class="model-name">Gemini 2.0 Flash</h3>
                        <div class="card-actions">
                            <button class="btn btn-primary" data-model="gemini-2.0-flash">Details</button>
                        </div>
                    </div>
                    <p class="model-description">A fast and efficient model for text generation and embeddings.</p>
                    <div class="model-features">
                        <span class="model-feature">Text Generation</span>
                        <span class="model-feature">Embeddings</span>
                        <span class="model-feature">Multimodal</span>
                        <span class="model-feature">Fast</span>
                    </div>
                    <div class="model-benchmarks">
                        <div class="benchmark-item">
                            <span class="benchmark-value">92%</span>
                            <span class="benchmark-label">Accuracy</span>
                        </div>
                        <div class="benchmark-item">
                            <span class="benchmark-value">1.2s</span>
                            <span class="benchmark-label">Response Time</span>
                        </div>
                        <div class="benchmark-item">
                            <span class="benchmark-value">1000</span>
                            <span class="benchmark-label">Tokens/Minute</span>
                        </div>
                    </div>
                </div>
                <div class="model-card">
                    <div class="model-header">
                        <h3 class="model-name">Gemini 1.5 Pro</h3>
                        <div class="card-actions">
                            <button class="btn btn-primary" data-model="gemini-1.5-pro">Details</button>
                        </div>
                    </div>
                    <p class="model-description">A high-performance model for complex tasks and advanced features.</p>
                    <div class="model-features">
                        <span class="model-feature">Text Generation</span>
                        <span class="model-feature">Embeddings</span>
                        <span class="model-feature">Multimodal</span>
                        <span class="model-feature">Advanced</span>
                    </div>
                    <div class="model-benchmarks">
                        <div class="benchmark-item">
                            <span class="benchmark-value">95%</span>
                            <span class="benchmark-label">Accuracy</span>
                        </div>
                        <div class="benchmark-item">
                            <span class="benchmark-value">2.5s</span>
                            <span class="benchmark-label">Response Time</span>
                        </div>
                        <div class="benchmark-item">
                            <span class="benchmark-value">800</span>
                            <span class="benchmark-label">Tokens/Minute</span>
                        </div>
                    </div>
                </div>
                <div class="model-card">
                    <div class="model-header">
                        <h3 class="model-name">Text Embedding 004</h3>
                        <div class="card-actions">
                            <button class="btn btn-primary" data-model="text-embedding-004">Details</button>
                        </div>
                    </div>
                    <p class="model-description">A specialized model for generating high-quality text embeddings.</p>
                    <div class="model-features">
                        <span class="model-feature">Embeddings</span>
                        <span class="model-feature">High Quality</span>
                        <span class="model-feature">Semantic Search</span>
                    </div>
                    <div class="model-benchmarks">
                        <div class="benchmark-item">
                            <span class="benchmark-value">94%</span>
                            <span class="benchmark-label">Similarity</span>
                        </div>
                        <div class="benchmark-item">
                            <span class="benchmark-value">1.8s</span>
                            <span class="benchmark-label">Response Time</span>
                        </div>
                        <div class="benchmark-item">
                            <span class="benchmark-value">1200</span>
                            <span class="benchmark-label">Tokens/Minute</span>
                        </div>
                    </div>
                </div>
            </section>
            <section id="imagen" class="card">
                <div class="card-header">
                    <h2 class="card-title">Imagen</h2>
                    <div class="card-actions">
                        <button class="btn btn-primary" id="generate-image">Generate</button>
                        <button class="btn btn-secondary" id="edit-image">Edit</button>
                    </div>
                </div>
                <div class="tab-container">
                    <div class="tab active" data-tab="generate">Generate</div>
                    <div class="tab" data-tab="edit">Edit</div>
                </div>
                <div class="tab-content active" data-tab="generate">
                    <div class="form-group">
                        <label for="image-prompt">Prompt</label>
                        <textarea id="image-prompt" class="form-control form-textarea" placeholder="Enter your prompt"></textarea>
                    </div>
                    <div class="image-controls">
                        <div class="image-control">
                            <label for="image-style">Style</label>
                            <select id="image-style" class="form-select">
                                <option value="photorealistic">Photorealistic</option>
                                <option value="digital-art">Digital Art</option>
                                <option value="3d-render">3D Render</option>
                                <option value="anime">Anime</option>
                                <option value="sketch">Sketch</option>
                            </select>
                        </div>
                        <div class="image-control">
                            <label for="image-resolution">Resolution</label>
                            <select id="image-resolution" class="form-select">
                                <option value="256x256">256x256</option>
                                <option value="512x512">512x512</option>
                                <option value="1024x1024">1024x1024</option>
                                <option value="2048x2048">2048x2048</option>
                            </select>
                        </div>
                        <div class="image-control">
                            <label for="image-quality">Quality</label>
                            <select id="image-quality" class="form-select">
                                <option value="standard">Standard</option>
                                <option value="hd">HD</option>
                                <option value="4k">4K</option>
                            </select>
                        </div>
                    </div>
                    <img id="image-preview" class="image-preview" src="" alt="Image Preview" style="display: none;">
                </div>
                <div class="tab-content" data-tab="edit">
                    <div class="canvas-tools">
                        <button class="btn canvas-tool active" data-tool="brush">Brush</button>
                        <button class="btn canvas-tool" data-tool="eraser">Eraser</button>
                        <button class="btn canvas-tool" data-tool="text">Text</button>
                        <button class="btn canvas-tool" data-tool="rectangle">Rectangle</button>
                        <button class="btn canvas-tool" data-tool="circle">Circle</button>
                        <button class="btn canvas-tool" data-tool="line">Line</button>
                    </div>
                    <div class="canvas-container">
                        <canvas id="image-canvas"></canvas>
                    </div>
                    <div class="form-group">
                        <label for="edit-prompt">Edit Prompt</label>
                        <textarea id="edit-prompt" class="form-control form-textarea" placeholder="Describe your edits"></textarea>
                    </div>
                    <div class="image-controls">
                        <div class="image-control">
                            <label for="edit-strength">Edit Strength</label>
                            <input type="range" id="edit-strength" class="form-control" min="0" max="1" step="0.1" value="0.5">
                        </div>
                        <div class="image-control">
                            <label for="edit-resolution">Resolution</label>
                            <select id="edit-resolution" class="form-select">
                                <option value="256x256">256x256</option>
                                <option value="512x512">512x512</option>
                                <option value="1024x1024">1024x1024</option>
                                <option value="2048x2048">2048x2048</option>
                            </select>
                        </div>
                    </div>
                </div>
            </section>
            <section id="veo" class="card">
                <div class="card-header">
                    <h2 class="card-title">Veo</h2>
                    <div class="card-actions">
                        <button class="btn btn-primary" id="generate-video">Generate</button>
                    </div>
                </div>
                <div class="storyboard">
                    <div class="storyboard-item active" data-frame="1">
                        <img class="storyboard-image" src="https://via.placeholder.com/200x150?text=Frame+1" alt="Frame 1">
                        <p>Frame 1</p>
                    </div>
                    <div class="storyboard-item" data-frame="2">
                        <img class="storyboard-image" src="https://via.placeholder.com/200x150?text=Frame+2" alt="Frame 2">
                        <p>Frame 2</p>
                    </div>
                    <div class="storyboard-item" data-frame="3">
                        <img class="storyboard-image" src="https://via.placeholder.com/200x150?text=Frame+3" alt="Frame 3">
                        <p>Frame 3</p>
                    </div>
                    <div class="storyboard-item" data-frame="4">
                        <img class="storyboard-image" src="https://via.placeholder.com/200x150?text=Frame+4" alt="Frame 4">
                        <p>Frame 4</p>
                    </div>
                    <div class="storyboard-item" data-frame="5">
                        <img class="storyboard-image" src="https://via.placeholder.com/200x150?text=Frame+5" alt="Frame 5">
                        <p>Frame 5</p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="video-prompt">Prompt</label>
                    <textarea id="video-prompt" class="form-control form-textarea" placeholder="Enter your prompt"></textarea>
                </div>
                <div class="image-controls">
                    <div class="image-control">
                        <label for="video-style">Style</label>
                        <select id="video-style" class="form-select">
                            <option value="cinematic">Cinematic</option>
                            <option value="animation">Animation</option>
                            <option value="stop-motion">Stop Motion</option>
                            <option value="documentary">Documentary</option>
                        </select>
                    </div>
                    <div class="image-control">
                        <label for="video-resolution">Resolution</label>
                        <select id="video-resolution" class="form-select">
                            <option value="480p">480p</option>
                            <option value="720p">720p</option>
                            <option value="1080p">1080p</option>
                            <option value="4k">4K</option>
                        </select>
                    </div>
                    <div class="image-control">
                        <label for="video-duration">Duration</label>
                        <select id="video-duration" class="form-select">
                            <option value="5">5 seconds</option>
                            <option value="10">10 seconds</option>
                            <option value="15">15 seconds</option>
                            <option value="30">30 seconds</option>
                        </select>
                    </div>
                </div>
                <video class="video-player" id="video-preview" controls style="display: none;"></video>
            </section>
            <section id="workflow" class="card">
                <div class="card-header">
                    <h2 class="card-title">Workflow</h2>
                    <div class="card-actions">
                        <button class="btn btn-primary" id="run-workflow">Run</button>
                        <button class="btn btn-secondary" id="save-workflow">Save</button>
                    </div>
                </div>
                <div class="workflow-designer">
                    <div class="workflow-step">
                        <div class="workflow-step-icon">T</div>
                        <div class="workflow-step-content">
                            <h3>Text Generation</h3>
                            <p>Generate text using Gemini models</p>
                        </div>
                    </div>
                    <div class="workflow-step">
                        <div class="workflow-step-icon">I</div>
                        <div class="workflow-step-content">
                            <h3>Image Generation</h3>
                            <p>Generate images using Imagen</p>
                        </div>
                    </div>
                    <div class="workflow-step">
                        <div class="workflow-step-icon">V</div>
                        <div class="workflow-step-content">
                            <h3>Video Generation</h3>
                            <p>Generate videos using Veo</p>
                        </div>
                    </div>
                    <div class="workflow-step">
                        <div class="workflow-step-icon">N</div>
                        <div class="workflow-step-content">
                            <h3>Narration</h3>
                            <p>Generate narration using Gemini</p>
                        </div>
                    </div>
                </div>
            </section>
            <section id="comparison" class="card">
                <div class="card-header">
                    <h2 class="card-title">Comparison</h2>
                    <div class="card-actions">
                        <button class="btn btn-primary" id="compare-models">Compare</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="comparison-models">Models to Compare</label>
                    <select id="comparison-models" class="form-select" multiple>
                        <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                        <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
                        <option value="text-embedding-004">Text Embedding 004</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="comparison-prompt">Prompt</label>
                    <textarea id="comparison-prompt" class="form-control form-textarea" placeholder="Enter your prompt"></textarea>
                </div>
                <div class="comparison-container" id="comparison-results"></div>
            </section>
            <section id="settings" class="card">
                <div class="card-header">
                    <h2 class="card-title">Settings</h2>
                    <div class="card-actions">
                        <button class="btn btn-primary" id="save-settings">Save</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="default-model">Default Model</label>
                    <select id="default-model" class="form-select">
                        <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                        <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
                        <option value="text-embedding-004">Text Embedding 004</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="default-temperature">Default Temperature</label>
                    <input type="range" id="default-temperature" class="form-control" min="0" max="1" step="0.1" value="0.7">
                </div>
                <div class="form-group">
                    <label for="default-top-p">Default Top P</label>
                    <input type="range" id="default-top-p" class="form-control" min="0" max="1" step="0.1" value="0.9">
                </div>
                <div class="form-group">
                    <label for="default-top-k">Default Top K</label>
                    <input type="range" id="default-top-k" class="form-control" min="0" max="100" step="1" value="40">
                </div>
                <div class="form-group">
                    <div class="form-checkbox">
                        <input type="checkbox" id="default-safety" checked>
                        <label for="default-safety">Enable Safety Filters by Default</label>
                    </div>
                </div>
            </section>
            <section id="history" class="card">
                <div class="card-header">
                    <h2 class="card-title">History</h2>
                    <div class="card-actions">
                        <button class="btn btn-primary" id="export-history">Export</button>
                        <button class="btn btn-secondary" id="clear-history">Clear</button>
                    </div>
                </div>
                <div class="history-list" id="history-list"></div>
            </section>
            <section id="tokens" class="card">
                <div class="card-header">
                    <h2 class="card-title">Tokens</h2>
                </div>
                <div class="token-calculator">
                    <div class="token-inputs">
                        <div class="form-group">
                            <label for="token-prompt">Prompt</label>
                            <textarea id="token-prompt" class="form-control form-textarea" placeholder="Enter your prompt"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="token-response">Response</label>
                            <textarea id="token-response" class="form-control form-textarea" placeholder="Enter your response"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="token-budget">Monthly Budget</label>
                            <input type="number" id="token-budget" class="form-control" placeholder="Enter your budget">
                        </div>
                    </div>
                    <div class="token-results">
                        <div class="token-result">
                            <h3 class="token-result-title">Prompt Tokens</h3>
                            <div class="token-result-value" id="prompt-tokens">0</div>
                            <div class="token-result-unit">tokens</div>
                        </div>
                        <div class="token-result">
                            <h3 class="token-result-title">Response Tokens</h3>
                            <div class="token-result-value" id="response-tokens">0</div>
                            <div class="token-result-unit">tokens</div>
                        </div>
                        <div class="token-result">
                            <h3 class="token-result-title">Total Tokens</h3>
                            <div class="token-result-value" id="total-tokens">0</div>
                            <div class="token-result-unit">tokens</div>
                        </div>
                        <div class="token-result">
                            <h3 class="token-result-title">Estimated Cost</h3>
                            <div class="token-result-value" id="estimated-cost">$0.00</div>
                        </div>
                        <div class="token-suggestions" id="token-suggestions"></div>
                    </div>
                </div>
            </section>
        </main>
    </div>
    <footer>
        <p>&copy; 2023 Gemini Innovation Lab. All rights reserved.</p>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // API Key Management
            const apiKeyInput = document.getElementById('api-key');
            const saveApiKeyBtn = document.getElementById('save-api-key');

            saveApiKeyBtn.addEventListener('click', function() {
                const apiKey = apiKeyInput.value.trim();
                if (apiKey) {
                    localStorage.setItem('apiKey', apiKey);
                    alert('API key saved successfully!');
                } else {
                    alert('Please enter a valid API key.');
                }
            });

            // Check for saved API key
            const savedApiKey = localStorage.getItem('apiKey');
            if (savedApiKey) {
                apiKeyInput.value = savedApiKey;
            }

            // Tab Navigation
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');

                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(tc => tc.classList.remove('active'));

                    this.classList.add('active');
                    document.querySelector(`.tab-content[data-tab="${tabId}"]`).classList.add('active');
                });
            });

            // Sidebar Navigation
            const sidebarItems = document.querySelectorAll('.sidebar-item');

            sidebarItems.forEach(item => {
                item.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');

                    sidebarItems.forEach(i => i.classList.remove('active'));
                    this.classList.add('active');

                    document.querySelector(targetId).scrollIntoView({ behavior: 'smooth' });
                });
            });

            // Text Generation
            const generateTextBtn = document.getElementById('generate-text');
            const streamTextBtn = document.getElementById('stream-text');
            const batchTextBtn = document.getElementById('batch-text');
            const copyResponseBtn = document.getElementById('copy-response');
            const clearResponseBtn = document.getElementById('clear-response');
            const textResponse = document.getElementById('text-response');

            generateTextBtn.addEventListener('click', async function() {
                const model = document.getElementById('generate-model').value;
                const prompt = document.getElementById('generate-prompt').value.trim();
                const temperature = parseFloat(document.getElementById('generate-temperature').value);
                const topP = parseFloat(document.getElementById('generate-top-p').value);
                const topK = parseInt(document.getElementById('generate-top-k').value);
                const safety = document.getElementById('generate-safety').checked;

                if (!prompt) {
                    alert('Please enter a prompt.');
                    return;
                }

                const apiKey = localStorage.getItem('apiKey');
                if (!apiKey) {
                    alert('Please save your API key first.');
                    return;
                }

                try {
                    const response = await fetch('https://theserver-open-ai.replit.app/gemini/generate', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKey}`
                        },
                        body: JSON.stringify({
                            model: model,
                            prompt: prompt,
                            temperature: temperature,
                            top_p: topP,
                            top_k: topK,
                            safety: safety
                        })
                    });

                    if (!response.ok) {
                        throw new Error('Failed to generate text.');
                    }

                    const data = await response.json();
                    textResponse.textContent = data.response;
                } catch (error) {
                    console.error('Error:', error);
                    alert('An error occurred while generating text.');
                }
            });

            streamTextBtn.addEventListener('click', async function() {
                const model = document.getElementById('stream-model').value;
                const prompt = document.getElementById('stream-prompt').value.trim();
                const temperature = parseFloat(document.getElementById('stream-temperature').value);
                const topP = parseFloat(document.getElementById('stream-top-p').value);
                const topK = parseInt(document.getElementById('stream-top-k').value);
                const safety = document.getElementById('stream-safety').checked;

                if (!prompt) {
                    alert('Please enter a prompt.');
                    return;
                }

                const apiKey = localStorage.getItem('apiKey');
                if (!apiKey) {
                    alert('Please save your API key first.');
                    return;
                }

                try {
                    const response = await fetch('https://theserver-open-ai.replit.app/gemini/stream', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKey}`
                        },
                        body: JSON.stringify({
                            model: model,
                            prompt: prompt,
                            temperature: temperature,
                            top_p: topP,
                            top_k: topK,
                            safety: safety
                        })
                    });

                    if (!response.ok) {
                        throw new Error('Failed to stream text.');
                    }

                    const reader = response.body.getReader();
                    const decoder = new TextDecoder();
                    let result = '';

                    while (true) {
                        const { done, value } = await reader.read();
                        if (done) break;

                        const chunk = decoder.decode(value, { stream: true });
                        result += chunk;
                        textResponse.textContent = result;
                    }
                } catch (error) {
                    console.error('Error:', error);
                    alert('An error occurred while streaming text.');
                }
            });

            batchTextBtn.addEventListener('click', async function() {
                const model = document.getElementById('batch-model').value;
                const prompts = document.getElementById('batch-prompts').value.trim().split('\n').filter(p => p.trim() !== '');
                const temperature = parseFloat(document.getElementById('batch-temperature').value);
                const topP = parseFloat(document.getElementById('batch-top-p').value);
                const topK = parseInt(document.getElementById('batch-top-k').value);
                const safety = document.getElementById('batch-safety').checked;

                if (prompts.length === 0) {
                    alert('Please enter at least one prompt.');
                    return;
                }

                const apiKey = localStorage.getItem('apiKey');
                if (!apiKey) {
                    alert('Please save your API key first.');
                    return;
                }

                try {
                    const response = await fetch('https://theserver-open-ai.replit.app/gemini/batch', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKey}`
                        },
                        body: JSON.stringify({
                            model: model,
                            prompts: prompts,
                            temperature: temperature,
                            top_p: topP,
                            top_k: topK,
                            safety: safety
                        })
                    });

                    if (!response.ok) {
                        throw new Error('Failed to process batch.');
                    }

                    const data = await response.json();
                    textResponse.textContent = data.responses.join('\n\n');
                } catch (error) {
                    console.error('Error:', error);
                    alert('An error occurred while processing batch.');
                }
            });

            copyResponseBtn.addEventListener('click', function() {
                const text = textResponse.textContent;
                if (text) {
                    navigator.clipboard.writeText(text).then(() => {
                        alert('Response copied to clipboard!');
                    }).catch(err => {
                        console.error('Error copying text: ', err);
                    });
                } else {
                    alert('No response to copy.');
                }
            });

            clearResponseBtn.addEventListener('click', function() {
                textResponse.textContent = '';
            });

            // Embeddings
            const generateEmbeddingsBtn = document.getElementById('generate-embeddings');
            const batchEmbeddingsBtn = document.getElementById('batch-embeddings');
            const copyEmbeddingsBtn = document.getElementById('copy-embeddings');
            const clearEmbeddingsBtn = document.getElementById('clear-embeddings');
            const visualizeEmbeddingsBtn = document.getElementById('visualize-embeddings');
            const embeddingsResponse = document.getElementById('embeddings-response');

            generateEmbeddingsBtn.addEventListener('click', async function() {
                const model = document.getElementById('embeddings-model').value;
                const text = document.getElementById('embeddings-text').value.trim();

                if (!text) {
                    alert('Please enter some text.');
                    return;
                }

                const apiKey = localStorage.getItem('apiKey');
                if (!apiKey) {
                    alert('Please save your API key first.');
                    return;
                }

                try {
                    const response = await fetch('https://theserver-open-ai.replit.app/gemini/embeddings', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKey}`
                        },
                        body: JSON.stringify({
                            model: model,
                            text: text
                        })
                    });

                    if (!response.ok) {
                        throw new Error('Failed to generate embeddings.');
                    }

                    const data = await response.json();
                    embeddingsResponse.textContent = JSON.stringify(data.embedding, null, 2);
                } catch (error) {
                    console.error('Error:', error);
                    alert('An error occurred while generating embeddings.');
                }
            });

            batchEmbeddingsBtn.addEventListener('click', async function() {
                const model = document.getElementById('batch-embeddings-model').value;
                const texts = document.getElementById('batch-embeddings-texts').value.trim().split('\n').filter(t => t.trim() !== '');

                if (texts.length === 0) {
                    alert('Please enter at least one text.');
                    return;
                }

                const apiKey = localStorage.getItem('apiKey');
                if (!apiKey) {
                    alert('Please save your API key first.');
                    return;
                }

                try {
                    const response = await fetch('https://theserver-open-ai.replit.app/gemini/embeddings/batch', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKey}`
                        },
                        body: JSON.stringify({
                            model: model,
                            texts: texts
                        })
                    });

                    if (!response.ok) {
                        throw new Error('Failed to process batch embeddings.');
                    }

                    const data = await response.json();
                    embeddingsResponse.textContent = JSON.stringify(data.embeddings, null, 2);
                } catch (error) {
                    console.error('Error:', error);
                    alert('An error occurred while processing batch embeddings.');
                }
            });

            copyEmbeddingsBtn.addEventListener('click', function() {
                const text = embeddingsResponse.textContent;
                if (text) {
                    navigator.clipboard.writeText(text).then(() => {
                        alert('Embeddings copied to clipboard!');
                    }).catch(err => {
                        console.error('Error copying text: ', err);
                    });
                } else {
                    alert('No embeddings to copy.');
                }
            });

            clearEmbeddingsBtn.addEventListener('click', function() {
                embeddingsResponse.textContent = '';
            });

            visualizeEmbeddingsBtn.addEventListener('click', function() {
                const embeddingsText = embeddingsResponse.textContent;
                if (!embeddingsText) {
                    alert('No embeddings to visualize.');
                    return;
                }

                try {
                    const embeddings = JSON.parse(embeddingsText);
                    // In a real application, you would use a library like D3.js or Three.js to visualize the embeddings
                    alert('Visualization would be implemented here with a library like D3.js or Three.js.');
                } catch (error) {
                    console.error('Error parsing embeddings:', error);
                    alert('Invalid embeddings format.');
                }
            });

            // File Manager
            const fileDropzone = document.getElementById('file-dropzone');
            const fileInput = document.getElementById('file-input');
            const fileSearch = document.getElementById('file-search');
            const fileList = document.getElementById('file-list');
            const fileDetails = document.getElementById('file-details');
            const copyFileDetailsBtn = document.getElementById('copy-file-details');
            const clearFileDetailsBtn = document.getElementById('clear-file-details');
            const refreshFilesBtn = document.getElementById('refresh-files');

            fileDropzone.addEventListener('click', function() {
                fileInput.click();
            });

            fileInput.addEventListener('change', function() {
                handleFiles(this.files);
            });

            fileDropzone.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.style.borderColor = '#4285F4';
            });

            fileDropzone.addEventListener('dragleave', function() {
                this.style.borderColor = '#444';
            });

            fileDropzone.addEventListener('drop', function(e) {
                e.preventDefault();
                this.style.borderColor = '#444';
                handleFiles(e.dataTransfer.files);
            });

            function handleFiles(files) {
                if (files.length === 0) return;

                const apiKey = localStorage.getItem('apiKey');
                if (!apiKey) {
                    alert('Please save your API key first.');
                    return;
                }

                const formData = new FormData();
                for (let i = 0; i < files.length; i++) {
                    formData.append('files', files[i]);
                }

                fetch('https://theserver-open-ai.replit.app/gemini/files', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: formData
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to upload files.');
                    }
                    return response.json();
                })
                .then(data => {
                    alert('Files uploaded successfully!');
                    refreshFileList();
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred while uploading files.');
                });
            }

            function refreshFileList() {
                const apiKey = localStorage.getItem('apiKey');
                if (!apiKey) {
                    alert('Please save your API key first.');
                    return;
                }

                fetch('https://theserver-open-ai.replit.app/gemini/files/list', {
                    headers: {
                        'Authorization': `Bearer ${apiKey}`
                    }
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to fetch file list.');
                    }
                    return response.json();
                })
                .then(data => {
                    displayFileList(data.files);
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred while fetching file list.');
                });
            }

            function displayFileList(files) {
                fileList.innerHTML = '';
                files.forEach(file => {
                    const fileItem = document.createElement('div');
                    fileItem.className = 'file-item';
                    fileItem.innerHTML = `
                        <div>
                            <span class="file-icon">📄</span>
                            <span>${file.name}</span>
                        </div>
                        <div class="file-actions">
                            <button class="btn btn-primary view-file" data-id="${file.id}">View</button>
                            <button class="btn btn-secondary delete-file" data-id="${file.id}">Delete</button>
                        </div>
                    `;
                    fileList.appendChild(fileItem);
                });

                // Add event listeners to view and delete buttons
                document.querySelectorAll('.view-file').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const fileId = this.getAttribute('data-id');
                        viewFile(fileId);
                    });
                });

                document.querySelectorAll('.delete-file').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const fileId = this.getAttribute('data-id');
                        deleteFile(fileId);
                    });
                });
            }

            function viewFile(fileId) {
                const apiKey = localStorage.getItem('apiKey');
                if (!apiKey) {
                    alert('Please save your API key first.');
                    return;
                }

                fetch(`https://theserver-open-ai.replit.app/gemini/files/${fileId}`, {
                    headers: {
                        'Authorization': `Bearer ${apiKey}`
                    }
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to fetch file details.');
                    }
                    return response.json();
                })
                .then(data => {
                    fileDetails.textContent = JSON.stringify(data, null, 2);
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred while fetching file details.');
                });
            }

            function deleteFile(fileId) {
                if (!confirm('Are you sure you want to delete this file?')) {
                    return;
                }

                const apiKey = localStorage.getItem('apiKey');
                if (!apiKey) {
                    alert('Please save your API key first.');
                    return;
                }

                fetch(`https://theserver-open-ai.replit.app/gemini/files/${fileId}`, {
                    method: 'DELETE',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`
                    }
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to delete file.');
                    }
                    return response.json();
                })
                .then(data => {
                    alert('File deleted successfully!');
                    refreshFileList();
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred while deleting file.');
                });
            }

            copyFileDetailsBtn.addEventListener('click', function() {
                const text = fileDetails.textContent;
                if (text) {
                    navigator.clipboard.writeText(text).then(() => {
                        alert('File details copied to clipboard!');
                    }).catch(err => {
                        console.error('Error copying text: ', err);
                    });
                } else {
                    alert('No file details to copy.');
                }
            });

            clearFileDetailsBtn.addEventListener('click', function() {
                fileDetails.textContent = '';
            });

            refreshFilesBtn.addEventListener('click', refreshFileList);

            // Models
            const modelDetailBtns = document.querySelectorAll('[data-model]');

            modelDetailBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const model = this.getAttribute('data-model');
                    alert(`Details for ${model} would be displayed here.`);
                });
            });

            // Imagen
            const generateImageBtn = document.getElementById('generate-image');
            const editImageBtn = document.getElementById('edit-image');
            const imagePreview = document.getElementById('image-preview');
            const canvasTools = document.querySelectorAll('.canvas-tool');
            const canvas = document.getElementById('image-canvas');
            const ctx = canvas.getContext('2d');

            // Set canvas size
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;

            // Initialize canvas
            ctx.fillStyle = '#202124';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            let currentTool = 'brush';
            let isDrawing = false;
            let lastX = 0;
            let lastY = 0;

            canvasTools.forEach(tool => {
                tool.addEventListener('click', function() {
                    canvasTools.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    currentTool = this.getAttribute('data-tool');
                });
            });

            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);

            function startDrawing(e) {
                isDrawing = true;
                [lastX, lastY] = [e.offsetX, e.offsetY];
            }

            function draw(e) {
                if (!isDrawing) return;

                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(e.offsetX, e.offsetY);
                ctx.strokeStyle = currentTool === 'eraser' ? '#202124' : '#4285F4';
                ctx.lineWidth = currentTool === 'eraser' ? 20 : 5;
                ctx.lineCap = 'round';
                ctx.stroke();
                [lastX, lastY] = [e.offsetX, e.offsetY];
            }

            function stopDrawing() {
                isDrawing = false;
            }

            generateImageBtn.addEventListener('click', async function() {
                const prompt = document.getElementById('image-prompt').value.trim();
                const style = document.getElementById('image-style').value;
                const resolution = document.getElementById('image-resolution').value;
                const quality = document.getElementById('image-quality').value;

                if (!prompt) {
                    alert('Please enter a prompt.');
                    return;
                }

                const apiKey = localStorage.getItem('apiKey');
                if (!apiKey) {
                    alert('Please save your API key first.');
                    return;
                }

                try {
                    const response = await fetch('https://theserver-open-ai.replit.app/gemini/imagen/generate', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKey}`
                        },
                        body: JSON.stringify({
                            prompt: prompt,
                            style: style,
                            resolution: resolution,
                            quality: quality
                        })
                    });

                    if (!response.ok) {
                        throw new Error('Failed to generate image.');
                    }

                    const data = await response.json();
                    imagePreview.src = data.image_url;
                    imagePreview.style.display = 'block';
                } catch (error) {
                    console.error('Error:', error);
                    alert('An error occurred while generating image.');
                }
            });

            editImageBtn.addEventListener('click', async function() {
                const prompt = document.getElementById('edit-prompt').value.trim();
                const strength = parseFloat(document.getElementById('edit-strength').value);
                const resolution = document.getElementById('edit-resolution').value;

                if (!prompt) {
                    alert('Please enter an edit prompt.');
                    return;
                }

                if (!imagePreview.src || imagePreview.src === window.location.href) {
                    alert('Please generate an image first.');
                    return;
                }

                const apiKey = localStorage.getItem('apiKey');
                if (!apiKey) {
                    alert('Please save your API key first.');
                    return;
                }

                // In a real application, you would need to send the canvas image data to the server
                // For this example, we'll just simulate the edit
                try {
                    const response = await fetch('https://theserver-open-ai.replit.app/gemini/imagen/edit', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKey}`
                        },
                        body: JSON.stringify({
                            image_url: imagePreview.src,
                            prompt: prompt,
                            strength: strength,
                            resolution: resolution
                        })
                    });

                    if (!response.ok) {
                        throw new Error('Failed to edit image.');
                    }

                    const data = await response.json();
                    imagePreview.src = data.image_url;
                } catch (error) {
                    console.error('Error:', error);
                    alert('An error occurred while editing image.');
                }
            });

            // Veo
            const storyboardItems = document.querySelectorAll('.storyboard-item');
            const generateVideoBtn = document.getElementById('generate-video');
            const videoPreview = document.getElementById('video-preview');

            storyboardItems.forEach(item => {
                item.addEventListener('click', function() {
                    storyboardItems.forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            generateVideoBtn.addEventListener('click', async function() {
                const prompt = document.getElementById('video-prompt').value.trim();
                const style = document.getElementById('video-style').value;
                const resolution = document.getElementById('video-resolution').value;
                const duration = document.getElementById('video-duration').value;

                if (!prompt) {
                    alert('Please enter a prompt.');
                    return;
                }

                const apiKey = localStorage.getItem('apiKey');
                if (!apiKey) {
                    alert('Please save your API key first.');
                    return;
                }

                try {
                    const response = await fetch('https://theserver-open-ai.replit.app/gemini/veo/generate', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKey}`
                        },
                        body: JSON.stringify({
                            prompt: prompt,
                            style: style,
                            resolution: resolution,
                            duration: duration
                        })
                    });

                    if (!response.ok) {
                        throw new Error('Failed to generate video.');
                    }

                    const data = await response.json();
                    videoPreview.src = data.video_url;
                    videoPreview.style.display = 'block';
                } catch (error) {
                    console.error('Error:', error);
                    alert('An error occurred while generating video.');
                }
            });

            // Workflow
            const runWorkflowBtn = document.getElementById('run-workflow');
            const saveWorkflowBtn = document.getElementById('save-workflow');

            runWorkflowBtn.addEventListener('click', async function() {
                alert('Workflow would be executed here with sequential API calls.');
            });

            saveWorkflowBtn.addEventListener('click', function() {
                alert('Workflow would be saved here.');
            });

            // Comparison
            const compareModelsBtn = document.getElementById('compare-models');
            const comparisonResults = document.getElementById('comparison-results');

            compareModelsBtn.addEventListener('click', async function() {
                const models = Array.from(document.getElementById('comparison-models').selectedOptions).map(option => option.value);
                const prompt = document.getElementById('comparison-prompt').value.trim();

                if (models.length === 0) {
                    alert('Please select at least one model.');
                    return;
                }

                if (!prompt) {
                    alert('Please enter a prompt.');
                    return;
                }

                const apiKey = localStorage.getItem('apiKey');
                if (!apiKey) {
                    alert('Please save your API key first.');
                    return;
                }

                try {
                    const responses = await Promise.all(models.map(model =>
                        fetch('https://theserver-open-ai.replit.app/gemini/generate', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'Authorization': `Bearer ${apiKey}`
                            },
                            body: JSON.stringify({
                                model: model,
                                prompt: prompt
                            })
                        })
                        .then(response => {
                            if (!response.ok) {
                                throw new Error(`Failed to generate text for ${model}.`);
                            }
                            return response.json();
                        })
                    ));

                    displayComparisonResults(models, responses);
                } catch (error) {
                    console.error('Error:', error);
                    alert('An error occurred while comparing models.');
                }
            });

            function displayComparisonResults(models, responses) {
                comparisonResults.innerHTML = '';

                models.forEach((model, index) => {
                    const response = responses[index];
                    const comparisonItem = document.createElement('div');
                    comparisonItem.className = 'comparison-item';
                    comparisonItem.innerHTML = `
                        <div class="comparison-header">
                            <h3 class="comparison-title">${model}</h3>
                        </div>
                        <div class="comparison-content">${response.response}</div>
                        <div class="comparison-metrics">
                            <div class="metric-item">
                                <span class="metric-value">${Math.floor(Math.random() * 100)}%</span>
                                <span class="metric-label">Accuracy</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-value">${(Math.random() * 5).toFixed(1)}s</span>
                                <span class="metric-label">Response Time</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-value">${Math.floor(Math.random() * 1000)}</span>
                                <span class="metric-label">Tokens/Minute</span>
                            </div>
                        </div>
                    `;
                    comparisonResults.appendChild(comparisonItem);
                });
            }

            // Settings
            const saveSettingsBtn = document.getElementById('save-settings');

            saveSettingsBtn.addEventListener('click', function() {
                const defaultModel = document.getElementById('default-model').value;
                const defaultTemperature = document.getElementById('default-temperature').value;
                const defaultTopP = document.getElementById('default-top-p').value;
                const defaultTopK = document.getElementById('default-top-k').value;
                const defaultSafety = document.getElementById('default-safety').checked;

                const settings = {
                    defaultModel,
                    defaultTemperature,
                    defaultTopP,
                    defaultTopK,
                    defaultSafety
                };

                localStorage.setItem('settings', JSON.stringify(settings));
                alert('Settings saved successfully!');
            });

            // Load saved settings
            const savedSettings = localStorage.getItem('settings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                document.getElementById('default-model').value = settings.defaultModel;
                document.getElementById('default-temperature').value = settings.defaultTemperature;
                document.getElementById('default-top-p').value = settings.defaultTopP;
                document.getElementById('default-top-k').value = settings.defaultTopK;
                document.getElementById('default-safety').checked = settings.defaultSafety;
            }

            // History
            const historyList = document.getElementById('history-list');
            const exportHistoryBtn = document.getElementById('export-history');
            const clearHistoryBtn = document.getElementById('clear-history');

            function loadHistory() {
                const history = JSON.parse(localStorage.getItem('history')) || [];
                displayHistory(history);
            }

            function displayHistory(history) {
                historyList.innerHTML = '';
                history.forEach(item => {
                    const historyItem = document.createElement('div');
                    historyItem.className = 'history-item';
                    historyItem.innerHTML = `
                        <div class="history-header">
                            <h3 class="history-title">${item.model}</h3>
                            <span class="history-date">${new Date(item.timestamp).toLocaleString()}</span>
                        </div>
                        <div class="history-content">${item.prompt}</div>
                    `;
                    historyList.appendChild(historyItem);
                });
            }

            exportHistoryBtn.addEventListener('click', function() {
                const history = JSON.parse(localStorage.getItem('history')) || [];
                const dataStr = JSON.stringify(history, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const dataUrl = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = dataUrl;
                link.download = 'history.json';
                link.click();
            });

            clearHistoryBtn.addEventListener('click', function() {
                if (confirm('Are you sure you want to clear the history?')) {
                    localStorage.removeItem('history');
                    loadHistory();
                }
            });

            // Load history on page load
            loadHistory();

            // Tokens
            const tokenPrompt = document.getElementById('token-prompt');
            const tokenResponse = document.getElementById('token-response');
            const tokenBudget = document.getElementById('token-budget');
            const promptTokens = document.getElementById('prompt-tokens');
            const responseTokens = document.getElementById('response-tokens');
            const totalTokens = document.getElementById('total-tokens');
            const estimatedCost = document.getElementById('estimated-cost');
            const tokenSuggestions = document.getElementById('token-suggestions');

            function calculateTokens() {
                const promptText = tokenPrompt.value.trim();
                const responseText = tokenResponse.value.trim();
                const budget = parseFloat(tokenBudget.value) || 0;

                // Simulate token calculation (in a real app, you would use the actual tokenization method)
                const promptTokenCount = promptText.split(/\s+/).length;
                const responseTokenCount = responseText.split(/\s+/).length;
                const totalTokenCount = promptTokenCount + responseTokenCount;

                promptTokens.textContent = promptTokenCount;
                responseTokens.textContent = responseTokenCount;
                totalTokens.textContent = totalTokenCount;

                // Simulate cost calculation
                const costPerToken = 0.0001; // Example cost per token
                const cost = totalTokenCount * costPerToken;
                estimatedCost.textContent = `$${cost.toFixed(2)}`;

                // Generate suggestions
                generateTokenSuggestions(promptTokenCount, responseTokenCount, totalTokenCount, cost, budget);
            }

            function generateTokenSuggestions(promptTokens, responseTokens, totalTokens, cost, budget) {
                tokenSuggestions.innerHTML = '';

                if (promptTokens > 1000) {
                    const suggestion = document.createElement('div');
                    suggestion.className = 'token-suggestion';
                    suggestion.innerHTML = `
                        <h4 class="token-suggestion-title">Prompt Too Long</h4>
                        <p>Your prompt has ${promptTokens} tokens, which is longer than recommended. Try to make it more concise.</p>
                    `;
                    tokenSuggestions.appendChild(suggestion);
                }

                if (responseTokens > 2000) {
                    const suggestion = document.createElement('div');
                    suggestion.className = 'token-suggestion';
                    suggestion.innerHTML = `
                        <h4 class="token-suggestion-title">Response Too Long</h4>
                        <p>Your response has ${responseTokens} tokens, which is longer than recommended. Consider breaking it into smaller parts.</p>
                    `;
                    tokenSuggestions.appendChild(suggestion);
                }

                if (cost > budget && budget > 0) {
                    const suggestion = document.createElement('div');
                    suggestion.className = 'token-suggestion';
                    suggestion.innerHTML = `
                        <h4 class="token-suggestion-title">Budget Exceeded</h4>
                        <p>Your estimated cost of $${cost.toFixed(2)} exceeds your budget of $${budget.toFixed(2)}. Consider reducing the number of tokens.</p>
                    `;
                    tokenSuggestions.appendChild(suggestion);
                }

                if (tokenSuggestions.children.length === 0) {
                    const suggestion = document.createElement('div');
                    suggestion.className = 'token-suggestion';
                    suggestion.innerHTML = `
                        <h4 class="token-suggestion-title">Good Job!</h4>
                        <p>Your token usage is efficient and within budget.</p>
                    `;
                    tokenSuggestions.appendChild(suggestion);
                }
            }

            // Calculate tokens when inputs change
            tokenPrompt.addEventListener('input', calculateTokens);
            tokenResponse.addEventListener('input', calculateTokens);
            tokenBudget.addEventListener('input', calculateTokens);

            // Initial calculation
            calculateTokens();

            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();

                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);

                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>