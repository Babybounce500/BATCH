<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mistral AI Orchestrator</title>
    <meta name="description" content="Comprehensive interface for Mistral AI API endpoints">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #6366F1;
            --primary-dark: #4F46E5;
            --primary-light: #818CF8;
            --text-color: #E5E7EB;
            --text-dark: #9CA3AF;
            --bg-color: #1F2937;
            --bg-dark: #111827;
            --bg-light: #374151;
            --border-color: #4B5563;
            --error-color: #EF4444;
            --success-color: #10B981;
            --warning-color: #F59E0B;
            --font-main: 'Orbitron', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            display: grid;
            grid-template-rows: auto 1fr auto;
        }

        header {
            background-color: var(--bg-dark);
            padding: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            color: var(--primary-color);
        }

        nav {
            background-color: var(--bg-light);
            padding: 0.5rem 0;
        }

        .nav-container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            overflow-x: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) var(--bg-light);
        }

        .nav-container::-webkit-scrollbar {
            height: 8px;
        }

        .nav-container::-webkit-scrollbar-thumb {
            background-color: var(--primary-color);
            border-radius: 4px;
        }

        .nav-container::-webkit-scrollbar-track {
            background-color: var(--bg-light);
        }

        .tab {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            color: var(--text-dark);
            white-space: nowrap;
        }

        .tab:hover {
            background-color: var(--bg-color);
        }

        .tab.active {
            color: var(--primary-color);
            font-weight: 600;
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary-color);
        }

        main {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 1rem;
            width: 100%;
        }

        .tab-content {
            background-color: var(--bg-light);
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border-color);
        }

        .section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        h2 {
            font-size: clamp(1.25rem, 3vw, 1.75rem);
            margin-bottom: 1.5rem;
            color: var(--primary-color);
            position: relative;
            padding-bottom: 0.5rem;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background-color: var(--primary-color);
        }

        h3 {
            font-size: clamp(1rem, 2vw, 1.25rem);
            margin-bottom: 1rem;
            color: var(--primary-light);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        input, select, textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-main);
            font-size: 1rem;
        }

        textarea {
            min-height: 150px;
            resize: vertical;
        }

        .button-group {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            background-color: var(--primary-color);
            color: white;
            font-family: var(--font-main);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        button:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(99, 102, 241, 0.3);
        }

        button.secondary {
            background-color: var(--bg-dark);
        }

        button.secondary:hover {
            background-color: var(--border-color);
        }

        .response-container {
            margin-top: 2rem;
            padding: 1.5rem;
            background-color: var(--bg-dark);
            border-radius: 4px;
            border-left: 4px solid var(--primary-color);
        }

        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 300px;
            overflow-y: auto;
            padding: 1rem;
            background-color: var(--bg-color);
            border-radius: 4px;
        }

        .api-key-container {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .api-key-input {
            flex: 1;
        }

        .toggle-password {
            background-color: var(--bg-dark);
            padding: 0.75rem;
            border-radius: 4px;
            cursor: pointer;
        }

        .model-selector {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .model-card {
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1 1 200px;
        }

        .model-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(99, 102, 241, 0.2);
        }

        .model-card.selected {
            border-color: var(--primary-color);
            background-color: rgba(99, 102, 241, 0.1);
        }

        .model-name {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .model-description {
            color: var(--text-dark);
            font-size: 0.875rem;
        }

        .slider-container {
            margin-top: 1rem;
        }

        .slider-value {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            background: var(--bg-dark);
            border-radius: 4px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            background: var(--primary-color);
            border-radius: 50%;
            cursor: pointer;
        }

        .toggle-container {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--bg-dark);
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary-color);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .code-editor {
            position: relative;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--bg-color);
        }

        .code-editor-header {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 1rem;
            background-color: var(--bg-dark);
            border-bottom: 1px solid var(--border-color);
        }

        .code-editor-body {
            padding: 1rem;
        }

        textarea.code-input {
            font-family: monospace;
            min-height: 300px;
        }

        .suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: var(--bg-dark);
            border: 1px solid var(--border-color);
            border-top: none;
            border-radius: 0 0 4px 4px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 10;
            display: none;
        }

        .suggestions.active {
            display: block;
        }

        .suggestion-item {
            padding: 0.5rem 1rem;
            cursor: pointer;
        }

        .suggestion-item:hover {
            background-color: var(--bg-color);
        }

        .job-card {
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            background-color: var(--bg-dark);
        }

        .job-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .job-status {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .status-pending {
            background-color: rgba(245, 158, 11, 0.2);
            color: var(--warning-color);
        }

        .status-running {
            background-color: rgba(59, 130, 246, 0.2);
            color: #3B82F6;
        }

        .status-completed {
            background-color: rgba(16, 185, 129, 0.2);
            color: var(--success-color);
        }

        .status-failed {
            background-color: rgba(239, 68, 68, 0.2);
            color: var(--error-color);
        }

        .progress-container {
            width: 100%;
            background-color: var(--bg-color);
            border-radius: 4px;
            margin: 1rem 0;
            height: 8px;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--primary-color);
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s ease;
        }

        .job-actions {
            display: flex;
            gap: 0.5rem;
        }

        .job-actions button {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
        }

        .image-upload {
            border: 2px dashed var(--border-color);
            border-radius: 4px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .image-upload:hover {
            border-color: var(--primary-color);
            background-color: rgba(99, 102, 241, 0.1);
        }

        .image-preview {
            margin-top: 1rem;
            max-width: 100%;
            max-height: 300px;
            display: none;
        }

        .image-preview.active {
            display: block;
        }

        .embedding-visualization {
            height: 300px;
            background-color: var(--bg-dark);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-dark);
        }

        .file-card {
            display: flex;
            align-items: center;
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .file-card:hover {
            background-color: var(--bg-dark);
            transform: translateX(5px);
        }

        .file-icon {
            font-size: 2rem;
            margin-right: 1rem;
            color: var(--primary-color);
        }

        .file-info {
            flex: 1;
        }

        .file-name {
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .file-details {
            display: flex;
            gap: 1rem;
            color: var(--text-dark);
            font-size: 0.875rem;
        }

        .file-actions {
            display: flex;
            gap: 0.5rem;
        }

        .file-actions button {
            padding: 0.5rem;
            font-size: 0.875rem;
        }

        .search-container {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .search-input {
            flex: 1;
        }

        .filter-container {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .sort-container {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .file-detail {
            margin-bottom: 1.5rem;
        }

        .file-detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .file-content {
            padding: 1.5rem;
            background-color: var(--bg-dark);
            border-radius: 4px;
            white-space: pre-wrap;
        }

        .confirmation-dialog {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .confirmation-dialog.active {
            opacity: 1;
            pointer-events: all;
        }

        .dialog-content {
            background-color: var(--bg-light);
            padding: 2rem;
            border-radius: 8px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .dialog-header {
            margin-bottom: 1.5rem;
        }

        .dialog-body {
            margin-bottom: 1.5rem;
        }

        .dialog-footer {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }

        .dataset-tools {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .dataset-tool {
            flex: 1 1 200px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .dataset-tool:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(99, 102, 241, 0.2);
        }

        .hyperparameter-group {
            margin-bottom: 1.5rem;
        }

        .hyperparameter-slider {
            margin-top: 0.5rem;
        }

        .checkpoint-card {
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1rem;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checkpoint-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(99, 102, 241, 0.2);
        }

        .checkpoint-card.selected {
            border-color: var(--primary-color);
            background-color: rgba(99, 102, 241, 0.1);
        }

        .event-timeline {
            position: relative;
            padding-left: 2rem;
            margin-top: 2rem;
        }

        .event-timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: var(--border-color);
        }

        .timeline-event {
            position: relative;
            padding: 1rem;
            margin-bottom: 1rem;
            background-color: var(--bg-dark);
            border-radius: 4px;
        }

        .timeline-event::before {
            content: '';
            position: absolute;
            left: -17px;
            top: 1rem;
            width: 12px;
            height: 12px;
            background-color: var(--primary-color);
            border-radius: 50%;
            border: 3px solid var(--bg-dark);
        }

        .event-time {
            font-size: 0.875rem;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        .event-description {
            font-weight: 500;
        }

        .batch-configurator {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .batch-config-group {
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1.5rem;
        }

        .batch-config-title {
            margin-bottom: 1rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .batch-job-card {
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            background-color: var(--bg-dark);
        }

        .batch-job-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .batch-job-status {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .status-queued {
            background-color: rgba(147, 51, 234, 0.2);
            color: #9333EA;
        }

        .batch-job-progress {
            margin: 1rem 0;
        }

        .batch-job-actions {
            display: flex;
            gap: 0.5rem;
        }

        .batch-job-actions button {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
        }

        .real-time-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .indicator-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: var(--error-color);
        }

        .status-connected {
            background-color: var(--success-color);
        }

        .status-disconnected {
            background-color: var(--error-color);
        }

        .status-reconnecting {
            background-color: var(--warning-color);
        }

        .moderation-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .moderation-category {
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1rem;
        }

        .category-name {
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .category-description {
            color: var(--text-dark);
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        .threshold-slider {
            margin-top: 0.5rem;
        }

        .moderation-result {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background-color: var(--bg-dark);
            border-radius: 4px;
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .result-score {
            font-weight: 600;
        }

        .score-high {
            color: var(--error-color);
        }

        .score-medium {
            color: var(--warning-color);
        }

        .score-low {
            color: var(--success-color);
        }

        .audio-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .audio-control {
            flex: 1 1 200px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1rem;
        }

        .audio-control-title {
            margin-bottom: 1rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .waveform-container {
            height: 100px;
            background-color: var(--bg-dark);
            border-radius: 4px;
            margin-top: 1rem;
            position: relative;
            overflow: hidden;
        }

        .waveform {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .waveform-bar {
            display: inline-block;
            width: 2px;
            background-color: var(--primary-color);
            margin-right: 1px;
            height: 20px;
        }

        .agent-configurator {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .agent-config-group {
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1.5rem;
        }

        .agent-config-title {
            margin-bottom: 1rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .agent-card {
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            background-color: var(--bg-dark);
        }

        .agent-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .agent-status {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .status-active {
            background-color: rgba(16, 185, 129, 0.2);
            color: var(--success-color);
        }

        .status-inactive {
            background-color: rgba(239, 68, 68, 0.2);
            color: var(--error-color);
        }

        .agent-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .metric {
            text-align: center;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .metric-label {
            color: var(--text-dark);
            font-size: 0.875rem;
        }

        .conversation-designer {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .conversation-messages {
            flex: 1;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1rem;
            min-height: 300px;
            overflow-y: auto;
        }

        .message {
            margin-bottom: 1rem;
            padding: 1rem;
            border-radius: 4px;
            max-width: 80%;
        }

        .user-message {
            background-color: var(--primary-color);
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 0;
        }

        .assistant-message {
            background-color: var(--bg-dark);
            border-bottom-left-radius: 0;
        }

        .message-time {
            font-size: 0.75rem;
            color: var(--text-dark);
            margin-top: 0.5rem;
            text-align: right;
        }

        .message-input {
            display: flex;
            gap: 1rem;
        }

        .message-textarea {
            flex: 1;
            min-height: 50px;
            resize: none;
        }

        .analytics-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .analytics-card {
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1.5rem;
            background-color: var(--bg-dark);
        }

        .analytics-title {
            margin-bottom: 1rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .chart-container {
            height: 200px;
        }

        .workflow-container {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .workflow-step {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .workflow-step:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            width: 2px;
            height: calc(100% - 4rem);
            background-color: var(--border-color);
            z-index: -1;
        }

        .workflow-icon {
            font-size: 3rem;
            color: var(--primary-color);
            background-color: var(--bg-dark);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .workflow-content {
            flex: 1;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1.5rem;
            background-color: var(--bg-dark);
        }

        .workflow-title {
            margin-bottom: 1rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        footer {
            background-color: var(--bg-dark);
            padding: 1.5rem;
            text-align: center;
            margin-top: auto;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .footer-links {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1rem;
        }

        .footer-links a {
            color: var(--text-color);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--primary-color);
        }

        .copyright {
            color: var(--text-dark);
            font-size: 0.875rem;
        }

        @media (max-width: 768px) {
            .header-container, .nav-container, main, .footer-content {
                padding: 0 1rem;
            }

            .tab-content {
                padding: 1.5rem;
            }

            .button-group {
                flex-direction: column;
            }

            .model-selector, .dataset-tools, .batch-configurator, .agent-configurator, .analytics-dashboard {
                grid-template-columns: 1fr;
            }

            .workflow-step {
                flex-direction: column;
                gap: 1rem;
            }

            .workflow-step:not(:last-child)::after {
                display: none;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.25rem;
            }

            h3 {
                font-size: 1rem;
            }

            .tab {
                padding: 0.5rem 1rem;
            }

            button, .job-actions button, .file-actions button, .batch-job-actions button {
                padding: 0.5rem 0.75rem;
                font-size: 0.875rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <h1>Mistral AI Orchestrator</h1>
            <div class="api-key-container">
                <div class="api-key-input">
                    <label for="api-key">API Key</label>
                    <input type="password" id="api-key" placeholder="Enter your API key">
                </div>
                <button class="toggle-password" id="toggle-api-key">👁️</button>
            </div>
        </div>
    </header>
    <nav>
        <div class="nav-container" id="nav-tabs">
            <div class="tab active" data-tab="chat">Chat</div>
            <div class="tab" data-tab="embeddings">Embeddings</div>
            <div class="tab" data-tab="files">Files</div>
            <div class="tab" data-tab="fine-tuning">Fine-tuning</div>
            <div class="tab" data-tab="batch">Batch</div>
            <div class="tab" data-tab="moderation">Moderation</div>
            <div class="tab" data-tab="audio">Audio</div>
            <div class="tab" data-tab="agents">Agents</div>
            <div class="tab" data-tab="conversations">Conversations</div>
            <div class="tab" data-tab="workflows">Workflows</div>
        </div>
    </nav>
    <main>
        <!-- Chat Tab -->
        <div class="tab-content active" id="chat">
            <div class="section">
                <h2>Chat Completions</h2>
                <div class="form-group">
                    <label for="chat-model">Model</label>
                    <div class="model-selector" id="chat-model-selector">
                        <div class="model-card" data-model="mistral-tiny">
                            <div class="model-name">Mistral Tiny</div>
                            <div class="model-description">Fast and lightweight model for general tasks</div>
                        </div>
                        <div class="model-card" data-model="mistral-small">
                            <div class="model-name">Mistral Small</div>
                            <div class="model-description">Balanced performance and accuracy</div>
                        </div>
                        <div class="model-card" data-model="mistral-medium">
                            <div class="model-name">Mistral Medium</div>
                            <div class="model-description">Higher accuracy with moderate speed</div>
                        </div>
                    </div>
                    <input type="hidden" id="chat-model" value="mistral-tiny">
                </div>
                <div class="form-group">
                    <label for="chat-messages">Messages</label>
                    <textarea id="chat-messages" placeholder="Enter your messages in JSON format"></textarea>
                </div>
                <div class="form-group">
                    <label for="chat-temperature">Temperature</label>
                    <div class="slider-container">
                        <div class="slider-value">
                            <span>0.0</span>
                            <span id="chat-temperature-value">0.7</span>
                            <span>2.0</span>
                        </div>
                        <input type="range" id="chat-temperature" min="0" max="2" step="0.1" value="0.7">
                    </div>
                </div>
                <div class="form-group">
                    <div class="toggle-container">
                        <label for="chat-streaming">Streaming</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="chat-streaming">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                <div class="button-group">
                    <button id="chat-submit">Submit</button>
                    <button class="secondary" id="chat-clear">Clear</button>
                </div>
                <div class="response-container" id="chat-response-container">
                    <h3>Response</h3>
                    <pre id="chat-response"></pre>
                </div>
            </div>

            <div class="section">
                <h2>Fill-in-the-Middle Completions</h2>
                <div class="form-group">
                    <label for="fim-model">Model</label>
                    <div class="model-selector" id="fim-model-selector">
                        <div class="model-card" data-model="mistral-tiny">
                            <div class="model-name">Mistral Tiny</div>
                            <div class="model-description">Fast and lightweight model for code completion</div>
                        </div>
                        <div class="model-card" data-model="mistral-small">
                            <div class="model-name">Mistral Small</div>
                            <div class="model-description">Balanced performance for code completion</div>
                        </div>
                        <div class="model-card" data-model="mistral-medium">
                            <div class="model-name">Mistral Medium</div>
                            <div class="model-description">Higher accuracy for complex code patterns</div>
                        </div>
                    </div>
                    <input type="hidden" id="fim-model" value="mistral-tiny">
                </div>
                <div class="form-group">
                    <label for="fim-prompt">Code Prompt</label>
                    <div class="code-editor">
                        <div class="code-editor-header">
                            <span>Python</span>
                            <div class="language-selector">
                                <select id="fim-language">
                                    <option value="python">Python</option>
                                    <option value="javascript">JavaScript</option>
                                    <option value="java">Java</option>
                                    <option value="c">C</option>
                                    <option value="cpp">C++</option>
                                    <option value="go">Go</option>
                                    <option value="rust">Rust</option>
                                </select>
                            </div>
                        </div>
                        <div class="code-editor-body">
                            <textarea id="fim-prompt" class="code-input" placeholder="Enter your code prompt"></textarea>
                            <div class="suggestions" id="fim-suggestions"></div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="fim-suffix">Code Suffix</label>
                    <div class="code-editor">
                        <div class="code-editor-header">
                            <span>Python</span>
                            <div class="language-selector">
                                <select id="fim-suffix-language">
                                    <option value="python">Python</option>
                                    <option value="javascript">JavaScript</option>
                                    <option value="java">Java</option>
                                    <option value="c">C</option>
                                    <option value="cpp">C++</option>
                                    <option value="go">Go</option>
                                    <option value="rust">Rust</option>
                                </select>
                            </div>
                        </div>
                        <div class="code-editor-body">
                            <textarea id="fim-suffix" class="code-input" placeholder="Enter your code suffix"></textarea>
                            <div class="suggestions" id="fim-suffix-suggestions"></div>
                        </div>
                    </div>
                </div>
                <div class="button-group">
                    <button id="fim-submit">Submit</button>
                    <button class="secondary" id="fim-clear">Clear</button>
                </div>
                <div class="response-container" id="fim-response-container">
                    <h3>Response</h3>
                    <pre id="fim-response"></pre>
                </div>
            </div>

            <div class="section">
                <h2>Async Chat Completions</h2>
                <div class="form-group">
                    <label for="async-model">Model</label>
                    <div class="model-selector" id="async-model-selector">
                        <div class="model-card" data-model="mistral-tiny">
                            <div class="model-name">Mistral Tiny</div>
                            <div class="model-description">Fast processing for async tasks</div>
                        </div>
                        <div class="model-card" data-model="mistral-small">
                            <div class="model-name">Mistral Small</div>
                            <div class="model-description">Balanced performance for async operations</div>
                        </div>
                        <div class="model-card" data-model="mistral-medium">
                            <div class="model-name">Mistral Medium</div>
                            <div class="model-description">Higher accuracy for complex async tasks</div>
                        </div>
                    </div>
                    <input type="hidden" id="async-model" value="mistral-tiny">
                </div>
                <div class="form-group">
                    <label for="async-messages">Messages</label>
                    <textarea id="async-messages" placeholder="Enter your messages in JSON format"></textarea>
                </div>
                <div class="button-group">
                    <button id="async-submit">Submit</button>
                    <button class="secondary" id="async-clear">Clear</button>
                </div>
                <div class="response-container" id="async-response-container">
                    <h3>Job Management</h3>
                    <div id="async-jobs-container"></div>
                </div>
            </div>

            <div class="section">
                <h2>Chat Vision</h2>
                <div class="form-group">
                    <label for="vision-model">Model</label>
                    <div class="model-selector" id="vision-model-selector">
                        <div class="model-card" data-model="mistral-tiny">
                            <div class="model-name">Mistral Tiny</div>
                            <div class="model-description">Fast image processing</div>
                        </div>
                        <div class="model-card" data-model="mistral-small">
                            <div class="model-name">Mistral Small</div>
                            <div class="model-description">Balanced performance for image analysis</div>
                        </div>
                        <div class="model-card" data-model="mistral-medium">
                            <div class="model-name">Mistral Medium</div>
                            <div class="model-description">Higher accuracy for complex image analysis</div>
                        </div>
                    </div>
                    <input type="hidden" id="vision-model" value="mistral-tiny">
                </div>
                <div class="form-group">
                    <label for="vision-messages">Messages</label>
                    <textarea id="vision-messages" placeholder="Enter your messages in JSON format"></textarea>
                </div>
                <div class="form-group">
                    <label>Image Upload</label>
                    <div class="image-upload" id="image-upload">
                        <p>Click to upload an image or drag and drop</p>
                        <input type="file" id="vision-image" accept="image/*" style="display: none;">
                    </div>
                    <img id="image-preview" class="image-preview" alt="Preview">
                </div>
                <div class="button-group">
                    <button id="vision-submit">Submit</button>
                    <button class="secondary" id="vision-clear">Clear</button>
                </div>
                <div class="response-container" id="vision-response-container">
                    <h3>Response</h3>
                    <pre id="vision-response"></pre>
                </div>
            </div>
        </div>

        <!-- Embeddings Tab -->
        <div class="tab-content" id="embeddings">
            <div class="section">
                <h2>Embeddings</h2>
                <div class="form-group">
                    <label for="embeddings-input">Input Text</label>
                    <textarea id="embeddings-input" placeholder="Enter text to generate embeddings"></textarea>
                </div>
                <div class="form-group">
                    <label for="embeddings-model">Model</label>
                    <select id="embeddings-model">
                        <option value="mistral-embed-tiny">Mistral Embed Tiny</option>
                        <option value="mistral-embed-small">Mistral Embed Small</option>
                        <option value="mistral-embed-medium">Mistral Embed Medium</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="embeddings-dimensions">Dimensions</label>
                    <input type="number" id="embeddings-dimensions" min="128" max="4096" step="128" value="384">
                </div>
                <div class="button-group">
                    <button id="embeddings-submit">Generate Embeddings</button>
                    <button class="secondary" id="embeddings-clear">Clear</button>
                </div>
                <div class="response-container" id="embeddings-response-container">
                    <h3>Embeddings</h3>
                    <div class="embedding-visualization" id="embedding-visualization">
                        <p>Embedding visualization will appear here</p>
                    </div>
                    <pre id="embeddings-response"></pre>
                </div>
            </div>

            <div class="section">
                <h2>Text Chunking Tools</h2>
                <div class="form-group">
                    <label for="chunking-input">Input Text</label>
                    <textarea id="chunking-input" placeholder="Enter text to chunk"></textarea>
                </div>
                <div class="form-group">
                    <label for="chunk-size">Chunk Size</label>
                    <input type="number" id="chunk-size" min="100" max="2000" step="100" value="500">
                </div>
                <div class="form-group">
                    <label for="chunk-overlap">Chunk Overlap</label>
                    <input type="number" id="chunk-overlap" min="0" max="500" step="50" value="100">
                </div>
                <div class="button-group">
                    <button id="chunking-submit">Chunk Text</button>
                    <button class="secondary" id="chunking-clear">Clear</button>
                </div>
                <div class="response-container" id="chunking-response-container">
                    <h3>Chunks</h3>
                    <pre id="chunking-response"></pre>
                </div>
            </div>

            <div class="section">
                <h2>Batch Embeddings</h2>
                <div class="form-group">
                    <label for="batch-embeddings-input">Input Texts (one per line)</label>
                    <textarea id="batch-embeddings-input" placeholder="Enter multiple texts, one per line"></textarea>
                </div>
                <div class="form-group">
                    <label for="batch-embeddings-model">Model</label>
                    <select id="batch-embeddings-model">
                        <option value="mistral-embed-tiny">Mistral Embed Tiny</option>
                        <option value="mistral-embed-small">Mistral Embed Small</option>
                        <option value="mistral-embed-medium">Mistral Embed Medium</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="batch-embeddings-dimensions">Dimensions</label>
                    <input type="number" id="batch-embeddings-dimensions" min="128" max="4096" step="128" value="384">
                </div>
                <div class="button-group">
                    <button id="batch-embeddings-submit">Generate Batch Embeddings</button>
                    <button class="secondary" id="batch-embeddings-clear">Clear</button>
                </div>
                <div class="response-container" id="batch-embeddings-response-container">
                    <h3>Batch Embeddings</h3>
                    <pre id="batch-embeddings-response"></pre>
                </div>
            </div>

            <div class="section">
                <h2>Semantic Search</h2>
                <div class="form-group">
                    <label for="search-query">Search Query</label>
                    <textarea id="search-query" placeholder="Enter your search query"></textarea>
                </div>
                <div class="form-group">
                    <label for="search-documents">Documents (one per line)</label>
                    <textarea id="search-documents" placeholder="Enter documents to search through, one per line"></textarea>
                </div>
                <div class="form-group">
                    <label for="similarity-threshold">Similarity Threshold</label>
                    <div class="slider-container">
                        <div class="slider-value">
                            <span>0.0</span>
                            <span id="similarity-threshold-value">0.7</span>
                            <span>1.0</span>
                        </div>
                        <input type="range" id="similarity-threshold" min="0" max="1" step="0.1" value="0.7">
                    </div>
                </div>
                <div class="button-group">
                    <button id="search-submit">Search</button>
                    <button class="secondary" id="search-clear">Clear</button>
                </div>
                <div class="response-container" id="search-response-container">
                    <h3>Search Results</h3>
                    <pre id="search-response"></pre>
                </div>
            </div>
        </div>

        <!-- Files Tab -->
        <div class="tab-content" id="files">
            <div class="section">
                <h2>Upload Files</h2>
                <div class="form-group">
                    <label>File Upload</label>
                    <div class="image-upload" id="file-upload">
                        <p>Click to upload files or drag and drop</p>
                        <input type="file" id="file-input" multiple style="display: none;">
                    </div>
                    <div id="file-list"></div>
                </div>
                <div class="button-group">
                    <button id="upload-submit">Upload Files</button>
                    <button class="secondary" id="upload-clear">Clear</button>
                </div>
                <div class="response-container" id="upload-response-container">
                    <h3>Upload Status</h3>
                    <pre id="upload-response"></pre>
                </div>
            </div>

            <div class="section">
                <h2>List Files</h2>
                <div class="search-container">
                    <div class="form-group search-input">
                        <label for="file-search">Search</label>
                        <input type="text" id="file-search" placeholder="Search files...">
                    </div>
                </div>
                <div class="filter-container">
                    <div class="filter-group">
                        <label for="file-type">Type</label>
                        <select id="file-type">
                            <option value="all">All</option>
                            <option value="json">JSON</option>
                            <option value="jsonl">JSONL</option>
                            <option value="csv">CSV</option>
                            <option value="txt">TXT</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="file-purpose">Purpose</label>
                        <select id="file-purpose">
                            <option value="all">All</option>
                            <option value="fine-tune">Fine-tune</option>
                            <option value="assistants">Assistants</option>
                        </select>
                    </div>
                </div>
                <div class="sort-container">
                    <label for="file-sort">Sort by</label>
                    <select id="file-sort">
                        <option value="created_at">Date Created</option>
                        <option value="filename">Filename</option>
                        <option value="size">Size</option>
                    </select>
                    <button id="file-sort-order">↓</button>
                </div>
                <div class="button-group">
                    <button id="list-files">List Files</button>
                </div>
                <div class="response-container" id="list-files-container">
                    <h3>Files</h3>
                    <div id="files-list"></div>
                </div>
            </div>

            <div class="section">
                <h2>File Details</h2>
                <div class="form-group">
                    <label for="file-id">File ID</label>
                    <input type="text" id="file-id" placeholder="Enter file ID">
                </div>
                <div class="button-group">
                    <button id="retrieve-file">Retrieve File</button>
                </div>
                <div class="response-container" id="file-details-container">
                    <h3>File Details</h3>
                    <div id="file-details"></div>
                </div>
            </div>

            <div class="section">
                <h2>Delete File</h2>
                <div class="form-group">
                    <label for="delete-file-id">File ID</label>
                    <input type="text" id="delete-file-id" placeholder="Enter file ID to delete">
                </div>
                <div class="button-group">
                    <button id="delete-file">Delete File</button>
                </div>
                <div class="response-container" id="delete-file-container">
                    <h3>Delete Status</h3>
                    <pre id="delete-file-response"></pre>
                </div>
            </div>
        </div>

        <!-- Fine-tuning Tab -->
        <div class="tab-content" id="fine-tuning">
            <div class="section">
                <h2>Create Fine-tuning Job</h2>
                <div class="form-group">
                    <label for="training-file">Training File ID</label>
                    <input type="text" id="training-file" placeholder="Enter training file ID">
                </div>
                <div class="form-group">
                    <label for="validation-file">Validation File ID (optional)</label>
                    <input type="text" id="validation-file" placeholder="Enter validation file ID (optional)">
                </div>
                <div class="form-group">
                    <label for="model">Model</label>
                    <select id="model">
                        <option value="mistral-tiny">Mistral Tiny</option>
                        <option value="mistral-small">Mistral Small</option>
                        <option value="mistral-medium">Mistral Medium</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Dataset Preparation Tools</label>
                    <div class="dataset-tools">
                        <div class="dataset-tool" id="split-dataset">
                            <h4>Split Dataset</h4>
                            <p>Split your dataset into training and validation sets</p>
                        </div>
                        <div class="dataset-tool" id="clean-dataset">
                            <h4>Clean Dataset</h4>
                            <p>Remove duplicates and filter low-quality examples</p>
                        </div>
                        <div class="dataset-tool" id="augment-dataset">
                            <h4>Augment Dataset</h4>
                            <p>Generate additional training examples</p>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Hyperparameter Optimization</label>
                    <div class="hyperparameter-group">
                        <label for="learning-rate">Learning Rate</label>
                        <div class="hyperparameter-slider">
                            <div class="slider-value">
                                <span>0.0001</span>
                                <span id="learning-rate-value">0.0005</span>
                                <span>0.001</span>
                            </div>
                            <input type="range" id="learning-rate" min="0.0001" max="0.001" step="0.0001" value="0.0005">
                        </div>
                    </div>
                    <div class="hyperparameter-group">
                        <label for="batch-size">Batch Size</label>
                        <div class="hyperparameter-slider">
                            <div class="slider-value">
                                <span>1</span>
                                <span id="batch-size-value">4</span>
                                <span>8</span>
                            </div>
                            <input type="range" id="batch-size" min="1" max="8" step="1" value="4">
                        </div>
                    </div>
                    <div class="hyperparameter-group">
                        <label for="epochs">Epochs</label>
                        <div class="hyperparameter-slider">
                            <div class="slider-value">
                                <span>1</span>
                                <span id="epochs-value">3</span>
                                <span>5</span>
                            </div>
                            <input type="range" id="epochs" min="1" max="5" step="1" value="3">
                        </div>
                    </div>
                </div>
                <div class="button-group">
                    <button id="create-fine-tuning">Create Job</button>
                    <button class="secondary" id="fine-tuning-clear">Clear</button>
                </div>
                <div class="response-container" id="fine-tuning-response-container">
                    <h3>Job Details</h3>
                    <pre id="fine-tuning-response"></pre>
                </div>
            </div>

            <div class="section">
                <h2>List Fine-tuning Jobs</h2>
                <div class="button-group">
                    <button id="list-fine-tuning">List Jobs</button>
                </div>
                <div class="response-container" id="list-fine-tuning-container">
                    <h3>Fine-tuning Jobs</h3>
                    <div id="fine-tuning-jobs"></div>
                </div>
            </div>

            <div class="section">
                <h2>Start Fine-tuning Job</h2>
                <div class="form-group">
                    <label for="start-job-id">Job ID</label>
                    <input type="text" id="start-job-id" placeholder="Enter job ID">
                </div>
                <div class="form-group">
                    <label for="start-time">Scheduled Start Time (optional)</label>
                    <input type="datetime-local" id="start-time">
                </div>
                <div class="button-group">
                    <button id="start-fine-tuning">Start Job</button>
                </div>
                <div class="response-container" id="start-fine-tuning-container">
                    <h3>Start Status</h3>
                    <pre id="start-fine-tuning-response"></pre>
                </div>
            </div>

            <div class="section">
                <h2>Checkpoints</h2>
                <div class="form-group">
                    <label for="checkpoint-job-id">Job ID</label>
                    <input type="text" id="checkpoint-job-id" placeholder="Enter job ID">
                </div>
                <div class="button-group">
                    <button id="list-checkpoints">List Checkpoints</button>
                </div>
                <div class="response-container" id="checkpoints-container">
                    <h3>Checkpoints</h3>
                    <div id="checkpoints-list"></div>
                </div>
            </div>

            <div class="section">
                <h2>Job Events</h2>
                <div class="form-group">
                    <label for="events-job-id">Job ID</label>
                    <input type="text" id="events-job-id" placeholder="Enter job ID">
                </div>
                <div class="button-group">
                    <button id="list-events">List Events</button>
                </div>
                <div class="response-container" id="events-container">
                    <h3>Job Events</h3>
                    <div class="event-timeline" id="events-timeline"></div>
                </div>
            </div>

            <div class="section">
                <h2>Download Fine-tuned Model</h2>
                <div class="form-group">
                    <label for="download-job-id">Job ID</label>
                    <input type="text" id="download-job-id" placeholder="Enter job ID">
                </div>
                <div class="form-group">
                    <label for="download-format">Format</label>
                    <select id="download-format">
                        <option value="gguf">GGUF</option>
                        <option value="safetensors">Safetensors</option>
                        <option value="pytorch">PyTorch</option>
                    </select>
                </div>
                <div class="button-group">
                    <button id="download-model">Download Model</button>
                </div>
                <div class="response-container" id="download-model-container">
                    <h3>Download Status</h3>
                    <pre id="download-model-response"></pre>
                </div>
            </div>
        </div>

        <!-- Batch Tab -->
        <div class="tab-content" id="batch">
            <div class="section">
                <h2>Create Batch Job</h2>
                <div class="batch-configurator">
                    <div class="batch-config-group">
                        <h3 class="batch-config-title">Input Configuration</h3>
                        <div class="form-group">
                            <label for="batch-input-file">Input File ID</label>
                            <input type="text" id="batch-input-file" placeholder="Enter input file ID">
                        </div>
                        <div class="form-group">
                            <label for="batch-endpoint">Endpoint</label>
                            <select id="batch-endpoint">
                                <option value="/v1/chat/completions">Chat Completions</option>
                                <option value="/v1/embeddings">Embeddings</option>
                                <option value="/v1/fine_tuning/jobs">Fine-tuning Jobs</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="batch-completion-window">Completion Window</label>
                            <select id="batch-completion-window">
                                <option value="24h">24 hours</option>
                                <option value="48h">48 hours</option>
                                <option value="72h">72 hours</option>
                            </select>
                        </div>
                    </div>
                    <div class="batch-config-group">
                        <h3 class="batch-config-title">Output Configuration</h3>
                        <div class="form-group">
                            <label for="batch-output-file-prefix">Output File Prefix</label>
                            <input type="text" id="batch-output-file-prefix" placeholder="Enter output file prefix">
                        </div>
                    </div>
                    <div class="batch-config-group">
                        <h3 class="batch-config-title">Metadata</h3>
                        <div class="form-group">
                            <label for="batch-metadata">Metadata (JSON)</label>
                            <textarea id="batch-metadata" placeholder="Enter metadata in JSON format"></textarea>
                        </div>
                    </div>
                </div>
                <div class="button-group">
                    <button id="create-batch">Create Batch</button>
                    <button class="secondary" id="batch-clear">Clear</button>
                </div>
                <div class="response-container" id="batch-response-container">
                    <h3>Batch Details</h3>
                    <pre id="batch-response"></pre>
                </div>
            </div>

            <div class="section">
                <h2>List Batch Jobs</h2>
                <div class="button-group">
                    <button id="list-batches">List Batches</button>
                </div>
                <div class="response-container" id="list-batches-container">
                    <h3>Batch Jobs</h3>
                    <div id="batch-jobs"></div>
                </div>
            </div>

            <div class="section">
                <h2>Monitor Batch Jobs</h2>
                <div class="real-time-indicator">
                    <div class="indicator-dot" id="connection-status"></div>
                    <span id="connection-message">Disconnected</span>
                </div>
                <div class="response-container" id="monitor-batches-container">
                    <h3>Active Batch Jobs</h3>
                    <div id="active-batch-jobs"></div>
                </div>
            </div>
        </div>

        <!-- Moderation Tab -->
        <div class="tab-content" id="moderation">
            <div class="section">
                <h2>Content Moderation</h2>
                <div class="form-group">
                    <label for="moderation-input">Input Text</label>
                    <textarea id="moderation-input" placeholder="Enter text to moderate"></textarea>
                </div>
                <div class="form-group">
                    <label for="moderation-model">Model</label>
                    <select id="moderation-model">
                        <option value="mistral-moderation-latest">Mistral Moderation Latest</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Category Thresholds</label>
                    <div class="moderation-categories">
                        <div class="moderation-category">
                            <div class="category-name">Hate</div>
                            <div class="category-description">Content that expresses, incites, or promotes hate based on race, gender, ethnicity, religion, nationality, sexual orientation, disability, or caste.</div>
                            <div class="threshold-slider">
                                <div class="slider-value">
                                    <span>0.0</span>
                                    <span id="hate-threshold-value">0.5</span>
                                    <span>1.0</span>
                                </div>
                                <input type="range" id="hate-threshold" min="0" max="1" step="0.1" value="0.5">
                            </div>
                        </div>
                        <div class="moderation-category">
                            <div class="category-name">Hate/Threatening</div>
                            <div class="category-description">Hateful content that also includes violence or serious harm towards the targeted group.</div>
                            <div class="threshold-slider">
                                <div class="slider-value">
                                    <span>0.0</span>
                                    <span id="hate-threatening-threshold-value">0.5</span>
                                    <span>1.0</span>
                                </div>
                                <input type="range" id="hate-threatening-threshold" min="0" max="1" step="0.1" value="0.5">
                            </div>
                        </div>
                        <div class="moderation-category">
                            <div class="category-name">Harassment</div>
                            <div class="category-description">Content that expresses, incites, or promotes harassing language towards any target.</div>
                            <div class="threshold-slider">
                                <div class="slider-value">
                                    <span>0.0</span>
                                    <span id="harassment-threshold-value">0.5</span>
                                    <span>1.0</span>
                                </div>
                                <input type="range" id="harassment-threshold" min="0" max="1" step="0.1" value="0.5">
                            </div>
                        </div>
                        <div class="moderation-category">
                            <div class="category-name">Harassment/Threatening</div>
                            <div class="category-description">Harassment content that also includes violence or serious harm towards any target.</div>
                            <div class="threshold-slider">
                                <div class="slider-value">
                                    <span>0.0</span>
                                    <span id="harassment-threatening-threshold-value">0.5</span>
                                    <span>1.0</span>
                                </div>
                                <input type="range" id="harassment-threatening-threshold" min="0" max="1" step="0.1" value="0.5">
                            </div>
                        </div>
                        <div class="moderation-category">
                            <div class="category-name">Self-Harm</div>
                            <div class="category-description">Content that promotes, encourages, or depicts acts of self-harm, such as suicide, cutting, and eating disorders.</div>
                            <div class="threshold-slider">
                                <div class="slider-value">
                                    <span>0.0</span>
                                    <span id="self-harm-threshold-value">0.5</span>
                                    <span>1.0</span>
                                </div>
                                <input type="range" id="self-harm-threshold" min="0" max="1" step="0.1" value="0.5">
                            </div>
                        </div>
                        <div class="moderation-category">
                            <div class="category-name">Self-Harm/Intent</div>
                            <div class="category-description">Content where the speaker expresses that they are engaging or intend to engage in acts of self-harm.</div>
                            <div class="threshold-slider">
                                <div class="slider-value">
                                    <span>0.0</span>
                                    <span id="self-harm-intent-threshold-value">0.5</span>
                                    <span>1.0</span>
                                </div>
                                <input type="range" id="self-harm-intent-threshold" min="0" max="1" step="0.1" value="0.5">
                            </div>
                        </div>
                        <div class="moderation-category">
                            <div class="category-name">Self-Harm/Instructions</div>
                            <div class="category-description">Content that encourages performing acts of self-harm or that gives instructions or advice on how to commit acts of self-harm.</div>
                            <div class="threshold-slider">
                                <div class="slider-value">
                                    <span>0.0</span>
                                    <span id="self-harm-instructions-threshold-value">0.5</span>
                                    <span>1.0</span>
                                </div>
                                <input type="range" id="self-harm-instructions-threshold" min="0" max="1" step="0.1" value="0.5">
                            </div>
                        </div>
                        <div class="moderation-category">
                            <div class="category-name">Sexual</div>
                            <div class="category-description">Content meant to arouse sexual excitement, such as the description of sexual activity, or that promotes sexual services (excluding sex education and wellness).</div>
                            <div class="threshold-slider">
                                <div class="slider-value">
                                    <span>0.0</span>
                                    <span id="sexual-threshold-value">0.5</span>
                                    <span>1.0</span>
                                </div>
                                <input type="range" id="sexual-threshold" min="0" max="1" step="0.1" value="0.5">
                            </div>
                        </div>
                        <div class="moderation-category">
                            <div class="category-name">Sexual/Minors</div>
                            <div class="category-description">Sexual content that includes an individual who is under 18 years old.</div>
                            <div class="threshold-slider">
                                <div class="slider-value">
                                    <span>0.0</span>
                                    <span id="sexual-minors-threshold-value">0.5</span>
                                    <span>1.0</span>
                                </div>
                                <input type="range" id="sexual-minors-threshold" min="0" max="1" step="0.1" value="0.5">
                            </div>
                        </div>
                        <div class="moderation-category">
                            <div class="category-name">Violence</div>
                            <div class="category-description">Content that promotes or glorifies violence or celebrates the suffering or humiliation of others.</div>
                            <div class="threshold-slider">
                                <div class="slider-value">
                                    <span>0.0</span>
                                    <span id="violence-threshold-value">0.5</span>
                                    <span>1.0</span>
                                </div>
                                <input type="range" id="violence-threshold" min="0" max="1" step="0.1" value="0.5">
                            </div>
                        </div>
                        <div class="moderation-category">
                            <div class="category-name">Violence/Graphic</div>
                            <div class="category-description">Content that depicts death, violence, or serious physical injury in extreme graphic detail.</div>
                            <div class="threshold-slider">
                                <div class="slider-value">
                                    <span>0.0</span>
                                    <span id="violence-graphic-threshold-value">0.5</span>
                                    <span>1.0</span>
                                </div>
                                <input type="range" id="violence-graphic-threshold" min="0" max="1" step="0.1" value="0.5">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="button-group">
                    <button id="moderate-content">Moderate Content</button>
                    <button class="secondary" id="moderation-clear">Clear</button>
                </div>
                <div class="response-container" id="moderation-response-container">
                    <h3>Moderation Results</h3>
                    <div id="moderation-results"></div>
                </div>
            </div>

            <div class="section">
                <h2>Batch Moderation</h2>
                <div class="form-group">
                    <label for="batch-moderation-input">Input Texts (one per line)</label>
                    <textarea id="batch-moderation-input" placeholder="Enter multiple texts, one per line"></textarea>
                </div>
                <div class="form-group">
                    <label for="batch-moderation-model">Model</label>
                    <select id="batch-moderation-model">
                        <option value="mistral-moderation-latest">Mistral Moderation Latest</option>
                    </select>
                </div>
                <div class="button-group">
                    <button id="batch-moderate">Moderate Batch</button>
                    <button class="secondary" id="batch-moderation-clear">Clear</button>
                </div>
                <div class="response-container" id="batch-moderation-response-container">
                    <h3>Batch Moderation Results</h3>
                    <div id="batch-moderation-results"></div>
                </div>
            </div>
        </div>

        <!-- Audio Tab -->
        <div class="tab-content" id="audio">
            <div class="section">
                <h2>Transcriptions</h2>
                <div class="form-group">
                    <label>Audio File</label>
                    <div class="audio-upload" id="transcription-upload">
                        <p>Click to upload an audio file or drag and drop</p>
                        <input type="file" id="transcription-file" accept="audio/*" style="display: none;">
                    </div>
                    <div class="waveform-container">
                        <div class="waveform" id="transcription-waveform"></div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="transcription-model">Model</label>
                    <select id="transcription-model">
                        <option value="whisper-1">Whisper 1</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="transcription-language">Language (optional)</label>
                    <select id="transcription-language">
                        <option value="">Auto-detect</option>
                        <option value="en">English</option>
                        <option value="es">Spanish</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="it">Italian</option>
                        <option value="pt">Portuguese</option>
                        <option value="ru">Russian</option>
                        <option value="zh">Chinese</option>
                        <option value="ja">Japanese</option>
                        <option value="ko">Korean</option>
                    </select>
                </div>
                <div class="form-group">
                    <div class="toggle-container">
                        <label for="speaker-diarization">Speaker Diarization</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="speaker-diarization">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                <div class="button-group">
                    <button id="transcribe-audio">Transcribe</button>
                    <button class="secondary" id="transcription-clear">Clear</button>
                </div>
                <div class="response-container" id="transcription-response-container">
                    <h3>Transcription</h3>
                    <pre id="transcription-response"></pre>
                </div>
            </div>

            <div class="section">
                <h2>Translations</h2>
                <div class="form-group">
                    <label>Audio File</label>
                    <div class="audio-upload" id="translation-upload">
                        <p>Click to upload an audio file or drag and drop</p>
                        <input type="file" id="translation-file" accept="audio/*" style="display: none;">
                    </div>
                    <div class="waveform-container">
                        <div class="waveform" id="translation-waveform"></div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="translation-model">Model</label>
                    <select id="translation-model">
                        <option value="whisper-1">Whisper 1</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="translation-accent">Accent (optional)</label>
                    <select id="translation-accent">
                        <option value="">Standard</option>
                        <option value="american">American</option>
                        <option value="british">British</option>
                        <option value="australian">Australian</option>
                        <option value="canadian">Canadian</option>
                        <option value="indian">Indian</option>
                    </select>
                </div>
                <div class="button-group">
                    <button id="translate-audio">Translate</button>
                    <button class="secondary" id="translation-clear">Clear</button>
                </div>
                <div class="response-container" id="translation-response-container">
                    <h3>Translation</h3>
                    <pre id="translation-response"></pre>
                </div>
            </div>

            <div class="section">
                <h2>Text to Speech</h2>
                <div class="form-group">
                    <label for="speech-input">Input Text</label>
                    <textarea id="speech-input" placeholder="Enter text to convert to speech"></textarea>
                </div>
                <div class="form-group">
                    <label for="speech-model">Model</label>
                    <select id="speech-model">
                        <option value="tts-1">TTS 1</option>
                        <option value="tts-1-hd">TTS 1 HD</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="speech-voice">Voice</label>
                    <select id="speech-voice">
                        <option value="alloy">Alloy</option>
                        <option value="echo">Echo</option>
                        <option value="fable">Fable</option>
                        <option value="onyx">Onyx</option>
                        <option value="nova">Nova</option>
                        <option value="shimmer">Shimmer</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="speech-speed">Speed</label>
                    <div class="slider-container">
                        <div class="slider-value">
                            <span>0.5x</span>
                            <span id="speech-speed-value">1.0x</span>
                            <span>2.0x</span>
                        </div>
                        <input type="range" id="speech-speed" min="0.5" max="2" step="0.1" value="1">
                    </div>
                </div>
                <div class="button-group">
                    <button id="generate-speech">Generate Speech</button>
                    <button class="secondary" id="speech-clear">Clear</button>
                </div>
                <div class="response-container" id="speech-response-container">
                    <h3>Audio Output</h3>
                    <audio id="speech-audio" controls style="width: 100%; margin-top: 1rem;"></audio>
                </div>
            </div>

            <div class="section">
                <h2>Streaming Speech</h2>
                <div class="form-group">
                    <label for="streaming-speech-input">Input Text</label>
                    <textarea id="streaming-speech-input" placeholder="Enter text to stream as speech"></textarea>
                </div>
                <div class="form-group">
                    <label for="streaming-speech-model">Model</label>
                    <select id="streaming-speech-model">
                        <option value="tts-1">TTS 1</option>
                        <option value="tts-1-hd">TTS 1 HD</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="streaming-speech-voice">Voice</label>
                    <select id="streaming-speech-voice">
                        <option value="alloy">Alloy</option>
                        <option value="echo">Echo</option>
                        <option value="fable">Fable</option>
                        <option value="onyx">Onyx</option>
                        <option value="nova">Nova</option>
                        <option value="shimmer">Shimmer</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="streaming-speech-speed">Speed</label>
                    <div class="slider-container">
                        <div class="slider-value">
                            <span>0.5x</span>
                            <span id="streaming-speech-speed-value">1.0x</span>
                            <span>2.0x</span>
                        </div>
                        <input type="range" id="streaming-speech-speed" min="0.5" max="2" step="0.1" value="1">
                    </div>
                </div>
                <div class="button-group">
                    <button id="stream-speech">Stream Speech</button>
                    <button class="secondary" id="streaming-speech-clear">Clear</button>
                </div>
                <div class="response-container" id="streaming-speech-response-container">
                    <h3>Streaming Audio</h3>
                    <div class="waveform-container">
                        <div class="waveform" id="streaming-waveform"></div>
                    </div>
                    <audio id="streaming-audio" controls style="width: 100%; margin-top: 1rem;"></audio>
                </div>
            </div>
        </div>

        <!-- Agents Tab -->
        <div class="tab-content" id="agents">
            <div class="section">
                <h2>Create Agent</h2>
                <div class="agent-configurator">
                    <div class="agent-config-group">
                        <h3 class="agent-config-title">Basic Information</h3>
                        <div class="form-group">
                            <label for="agent-name">Name</label>
                            <input type="text" id="agent-name" placeholder="Enter agent name">
                        </div>
                        <div class="form-group">
                            <label for="agent-description">Description</label>
                            <textarea id="agent-description" placeholder="Enter agent description"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="agent-model">Model</label>
                            <select id="agent-model">
                                <option value="mistral-tiny">Mistral Tiny</option>
                                <option value="mistral-small">Mistral Small</option>
                                <option value="mistral-medium">Mistral Medium</option>
                            </select>
                        </div>
                    </div>
                    <div class="agent-config-group">
                        <h3 class="agent-config-title">Capabilities</h3>
                        <div class="form-group">
                            <div class="toggle-container">
                                <label for="agent-chat">Chat Capability</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="agent-chat" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="toggle-container">
                                <label for="agent-code-interpreter">Code Interpreter</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="agent-code-interpreter">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="toggle-container">
                                <label for="agent-retrieval">Retrieval</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="agent-retrieval">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="toggle-container">
                                <label for="agent-function-calling">Function Calling</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="agent-function-calling">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="agent-config-group">
                        <h3 class="agent-config-title">Tools</h3>
                        <div class="form-group">
                            <label for="agent-tools">Tools (JSON)</label>
                            <textarea id="agent-tools" placeholder="Enter tools in JSON format"></textarea>
                        </div>
                    </div>
                    <div class="agent-config-group">
                        <h3 class="agent-config-title">Instructions</h3>
                        <div class="form-group">
                            <label for="agent-instructions">System Instructions</label>
                            <textarea id="agent-instructions" placeholder="Enter system instructions"></textarea>
                        </div>
                    </div>
                </div>
                <div class="button-group">
                    <button id="create-agent">Create Agent</button>
                    <button class="secondary" id="agent-clear">Clear</button>
                </div>
                <div class="response-container" id="agent-response-container">
                    <h3>Agent Details</h3>
                    <pre id="agent-response"></pre>
                </div>
            </div>

            <div class="section">
                <h2>List Agents</h2>
                <div class="button-group">
                    <button id="list-agents">List Agents</button>
                </div>
                <div class="response-container" id="list-agents-container">
                    <h3>Agents</h3>
                    <div id="agents-list"></div>
                </div>
            </div>
        </div>

        <!-- Conversations Tab -->
        <div class="tab-content" id="conversations">
            <div class="section">
                <h2>Create Conversation</h2>
                <div class="form-group">
                    <label for="conversation-agent">Agent ID</label>
                    <input type="text" id="conversation-agent" placeholder="Enter agent ID">
                </div>
                <div class="form-group">
                    <label for="conversation-model">Model (optional)</label>
                    <select id="conversation-model">
                        <option value="">Use agent's default model</option>
                        <option value="mistral-tiny">Mistral Tiny</option>
                        <option value="mistral-small">Mistral Small</option>
                        <option value="mistral-medium">Mistral Medium</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="conversation-tools">Tools (optional, JSON)</label>
                    <textarea id="conversation-tools" placeholder="Enter tools in JSON format"></textarea>
                </div>
                <div class="button-group">
                    <button id="create-conversation">Create Conversation</button>
                    <button class="secondary" id="conversation-clear">Clear</button>
                </div>
                <div class="response-container" id="conversation-response-container">
                    <h3>Conversation Details</h3>
                    <pre id="conversation-response"></pre>
                </div>
            </div>

            <div class="section">
                <h2>Conversation Designer</h2>
                <div class="form-group">
                    <label for="designer-conversation">Conversation ID</label>
                    <input type="text" id="designer-conversation" placeholder="Enter conversation ID">
                </div>
                <div class="conversation-designer">
                    <div class="conversation-messages" id="conversation-messages">
                        <!-- Messages will be added here dynamically -->
                    </div>
                    <div class="message-input">
                        <textarea id="message-input" class="message-textarea" placeholder="Type your message here..."></textarea>
                        <button id="send-message">Send</button>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Analytics Dashboard</h2>
                <div class="form-group">
                    <label for="analytics-conversation">Conversation ID</label>
                    <input type="text" id="analytics-conversation" placeholder="Enter conversation ID">
                </div>
                <div class="button-group">
                    <button id="load-analytics">Load Analytics</button>
                </div>
                <div class="analytics-dashboard" id="analytics-dashboard">
                    <div class="analytics-card">
                        <h3 class="analytics-title">Message Volume</h3>
                        <div class="chart-container" id="message-volume-chart"></div>
                    </div>
                    <div class="analytics-card">
                        <h3 class="analytics-title">Response Time</h3>
                        <div class="chart-container" id="response-time-chart"></div>
                    </div>
                    <div class="analytics-card">
                        <h3 class="analytics-title">User Satisfaction</h3>
                        <div class="chart-container" id="satisfaction-chart"></div>
                    </div>
                    <div class="analytics-card">
                        <h3 class="analytics-title">Top Intents</h3>
                        <div class="chart-container" id="intents-chart"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Workflows Tab -->
        <div class="tab-content" id="workflows">
            <div class="section">
                <h2>FIM→Chat→Embed Search Workflow</h2>
                <div class="workflow-container">
                    <div class="workflow-step">
                        <div class="workflow-icon">📝</div>
                        <div class="workflow-content">
                            <h3 class="workflow-title">Fill-in-the-Middle Completion</h3>
                            <div class="form-group">
                                <label for="workflow-fim-prompt">Code Prompt</label>
                                <textarea id="workflow-fim-prompt" placeholder="Enter your code prompt"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="workflow-fim-suffix">Code Suffix</label>
                                <textarea id="workflow-fim-suffix" placeholder="Enter your code suffix"></textarea>
                            </div>
                            <div class="button-group">
                                <button id="workflow-fim-submit">Submit</button>
                            </div>
                            <div class="response-container" id="workflow-fim-response-container">
                                <h4>Response</h4>
                                <pre id="workflow-fim-response"></pre>
                            </div>
                        </div>
                    </div>
                    <div class="workflow-step">
                        <div class="workflow-icon">💬</div>
                        <div class="workflow-content">
                            <h3 class="workflow-title">Chat Completion</h3>
                            <div class="form-group">
                                <label for="workflow-chat-messages">Messages</label>
                                <textarea id="workflow-chat-messages" placeholder="Enter your messages in JSON format"></textarea>
                            </div>
                            <div class="button-group">
                                <button id="workflow-chat-submit">Submit</button>
                            </div>
                            <div class="response-container" id="workflow-chat-response-container">
                                <h4>Response</h4>
                                <pre id="workflow-chat-response"></pre>
                            </div>
                        </div>
                    </div>
                    <div class="workflow-step">
                        <div class="workflow-icon">🔍</div>
                        <div class="workflow-content">
                            <h3 class="workflow-title">Embed Search</h3>
                            <div class="form-group">
                                <label for="workflow-search-query">Search Query</label>
                                <textarea id="workflow-search-query" placeholder="Enter your search query"></textarea>
                            </div>
                            <div class="button-group">
                                <button id="workflow-search-submit">Search</button>
                            </div>
                            <div class="response-container" id="workflow-search-response-container">
                                <h4>Search Results</h4>
                                <pre id="workflow-search-response"></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Files→Fine-tune→Test Model Pipeline</h2>
                <div class="workflow-container">
                    <div class="workflow-step">
                        <div class="workflow-icon">📁</div>
                        <div class="workflow-content">
                            <h3 class="workflow-title">Upload Training Data</h3>
                            <div class="form-group">
                                <label>File Upload</label>
                                <div class="image-upload" id="workflow-file-upload">
                                    <p>Click to upload files or drag and drop</p>
                                    <input type="file" id="workflow-file-input" multiple style="display: none;">
                                </div>
                                <div id="workflow-file-list"></div>
                            </div>
                            <div class="button-group">
                                <button id="workflow-upload-submit">Upload Files</button>
                            </div>
                            <div class="response-container" id="workflow-upload-response-container">
                                <h4>Upload Status</h4>
                                <pre id="workflow-upload-response"></pre>
                            </div>
                        </div>
                    </div>
                    <div class="workflow-step">
                        <div class="workflow-icon">🏋️</div>
                        <div class="workflow-content">
                            <h3 class="workflow-title">Fine-tune Model</h3>
                            <div class="form-group">
                                <label for="workflow-training-file">Training File ID</label>
                                <input type="text" id="workflow-training-file" placeholder="Enter training file ID">
                            </div>
                            <div class="button-group">
                                <button id="workflow-create-fine-tuning">Create Job</button>
                            </div>
                            <div class="response-container" id="workflow-fine-tuning-response-container">
                                <h4>Job Details</h4>
                                <pre id="workflow-fine-tuning-response"></pre>
                            </div>
                        </div>
                    </div>
                    <div class="workflow-step">
                        <div class="workflow-icon">🧪</div>
                        <div class="workflow-content">
                            <h3 class="workflow-title">Test Model</h3>
                            <div class="form-group">
                                <label for="workflow-test-model">Model</label>
                                <select id="workflow-test-model">
                                    <option value="mistral-tiny">Mistral Tiny</option>
                                    <option value="mistral-small">Mistral Small</option>
                                    <option value="mistral-medium">Mistral Medium</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="workflow-test-input">Input Text</label>
                                <textarea id="workflow-test-input" placeholder="Enter text to test the model"></textarea>
                            </div>
                            <div class="button-group">
                                <button id="workflow-test-submit">Test Model</button>
                            </div>
                            <div class="response-container" id="workflow-test-response-container">
                                <h4>Test Results</h4>
                                <pre id="workflow-test-response"></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="#">Documentation</a>
                <a href="#">API Reference</a>
                <a href="#">Support</a>
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
            </div>
            <p class="copyright">&copy; 2023 Mistral AI Orchestrator. All rights reserved.</p>
        </div>
    </footer>

    <div class="confirmation-dialog" id="confirmation-dialog">
        <div class="dialog-content">
            <div class="dialog-header">
                <h3>Confirm Action</h3>
            </div>
            <div class="dialog-body" id="dialog-message">
                Are you sure you want to perform this action?
            </div>
            <div class="dialog-footer">
                <button class="secondary" id="cancel-action">Cancel</button>
                <button id="confirm-action">Confirm</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tab navigation
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');

                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');

                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === tabId) {
                            content.classList.add('active');
                        }
                    });
                });
            });

            // Toggle API key visibility
            const toggleApiKeyBtn = document.getElementById('toggle-api-key');
            const apiKeyInput = document.getElementById('api-key');

            toggleApiKeyBtn.addEventListener('click', () => {
                if (apiKeyInput.type === 'password') {
                    apiKeyInput.type = 'text';
                    toggleApiKeyBtn.textContent = '🙈';
                } else {
                    apiKeyInput.type = 'password';
                    toggleApiKeyBtn.textContent = '👁️';
                }
            });

            // Model selectors
            const modelSelectors = document.querySelectorAll('.model-selector');

            modelSelectors.forEach(selector => {
                const modelCards = selector.querySelectorAll('.model-card');
                const hiddenInput = selector.nextElementSibling;

                modelCards.forEach(card => {
                    card.addEventListener('click', () => {
                        modelCards.forEach(c => c.classList.remove('selected'));
                        card.classList.add('selected');
                        hiddenInput.value = card.getAttribute('data-model');
                    });
                });
            });

            // Sliders
            const sliders = document.querySelectorAll('input[type="range"]');

            sliders.forEach(slider => {
                const valueDisplay = slider.parentElement.previousElementSibling.lastElementChild;

                slider.addEventListener('input', () => {
                    valueDisplay.textContent = slider.value;
                });
            });

            // Image upload
            const imageUpload = document.getElementById('image-upload');
            const imageInput = document.getElementById('vision-image');
            const imagePreview = document.getElementById('image-preview');

            imageUpload.addEventListener('click', () => {
                imageInput.click();
            });

            imageInput.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        imagePreview.src = event.target.result;
                        imagePreview.classList.add('active');
                    };
                    reader.readAsDataURL(file);
                }
            });

            // File upload
            const fileUpload = document.getElementById('file-upload');
            const fileInput = document.getElementById('file-input');
            const fileList = document.getElementById('file-list');

            fileUpload.addEventListener('click', () => {
                fileInput.click();
            });

            fileInput.addEventListener('change', (e) => {
                fileList.innerHTML = '';
                Array.from(e.target.files).forEach(file => {
                    const fileItem = document.createElement('div');
                    fileItem.className = 'file-item';
                    fileItem.textContent = file.name;
                    fileList.appendChild(fileItem);
                });
            });

            // Confirmation dialog
            const confirmationDialog = document.getElementById('confirmation-dialog');
            const cancelActionBtn = document.getElementById('cancel-action');
            const confirmActionBtn = document.getElementById('confirm-action');
            let currentAction = null;

            function showConfirmationDialog(message, action) {
                document.getElementById('dialog-message').textContent = message;
                confirmationDialog.classList.add('active');
                currentAction = action;
            }

            cancelActionBtn.addEventListener('click', () => {
                confirmationDialog.classList.remove('active');
                currentAction = null;
            });

            confirmActionBtn.addEventListener('click', () => {
                if (currentAction) {
                    currentAction();
                }
                confirmationDialog.classList.remove('active');
            });

            // API calls
            const API_BASE_URL = 'https://theserver-open-ai.replit.app';

            async function makeApiRequest(endpoint, method = 'POST', body = null, headers = {}) {
                const apiKey = apiKeyInput.value.trim();
                if (!apiKey) {
                    alert('Please enter your API key');
                    return null;
                }

                const url = `${API_BASE_URL}${endpoint}`;
                const requestHeaders = {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${apiKey}`,
                    ...headers
                };

                try {
                    const response = await fetch(url, {
                        method,
                        headers: requestHeaders,
                        body: body ? JSON.stringify(body) : null
                    });

                    if (!response.ok) {
                        const errorData = await response.json().catch(() => ({}));
                        throw new Error(errorData.error?.message || `HTTP error! status: ${response.status}`);
                    }

                    return await response.json();
                } catch (error) {
                    console.error('API request failed:', error);
                    alert(`API request failed: ${error.message}`);
                    return null;
                }
            }

            // Chat tab
            document.getElementById('chat-submit').addEventListener('click', async () => {
                const model = document.getElementById('chat-model').value;
                const messages = document.getElementById('chat-messages').value;
                const temperature = parseFloat(document.getElementById('chat-temperature').value);
                const streaming = document.getElementById('chat-streaming').checked;

                try {
                    const messagesJson = JSON.parse(messages);
                    const response = await makeApiRequest('/v1/chat/completions', 'POST', {
                        model,
                        messages: messagesJson,
                        temperature,
                        stream: streaming
                    });

                    document.getElementById('chat-response').textContent = JSON.stringify(response, null, 2);
                } catch (error) {
                    console.error('Error parsing messages:', error);
                    alert('Invalid JSON format for messages');
                }
            });

            document.getElementById('chat-clear').addEventListener('click', () => {
                document.getElementById('chat-messages').value = '';
                document.getElementById('chat-response').textContent = '';
            });

            // FIM tab
            document.getElementById('fim-submit').addEventListener('click', async () => {
                const model = document.getElementById('fim-model').value;
                const prompt = document.getElementById('fim-prompt').value;
                const suffix = document.getElementById('fim-suffix').value;

                const response = await makeApiRequest('/v1/fim/completions', 'POST', {
                    model,
                    prompt,
                    suffix
                });

                document.getElementById('fim-response').textContent = JSON.stringify(response, null, 2);
            });

            document.getElementById('fim-clear').addEventListener('click', () => {
                document.getElementById('fim-prompt').value = '';
                document.getElementById('fim-suffix').value = '';
                document.getElementById('fim-response').textContent = '';
            });

            // Async chat tab
            document.getElementById('async-submit').addEventListener('click', async () => {
                const model = document.getElementById('async-model').value;
                const messages = document.getElementById('async-messages').value;

                try {
                    const messagesJson = JSON.parse(messages);
                    const response = await makeApiRequest('/v1/chat/async', 'POST', {
                        model,
                        messages: messagesJson
                    });

                    document.getElementById('async-response').textContent = JSON.stringify(response, null, 2);

                    // Add job to job management dashboard
                    const jobId = response.id;
                    const jobCard = document.createElement('div');
                    jobCard.className = 'job-card';
                    jobCard.innerHTML = `
                        <div class="job-header">
                            <h4>Job ID: ${jobId}</h4>
                            <span class="job-status status-pending">Pending</span>
                        </div>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 0%;"></div>
                        </div>
                        <div class="job-actions">
                            <button class="view-job" data-job-id="${jobId}">View</button>
                            <button class="cancel-job" data-job-id="${jobId}">Cancel</button>
                        </div>
                    `;

                    document.getElementById('async-jobs-container').appendChild(jobCard);

                    // Set up event listeners for the new job card
                    jobCard.querySelector('.view-job').addEventListener('click', async (e) => {
                        const jobId = e.target.getAttribute('data-job-id');
                        const jobResponse = await makeApiRequest(`/v1/chat/async/${jobId}`, 'GET');
                        alert(JSON.stringify(jobResponse, null, 2));
                    });

                    jobCard.querySelector('.cancel-job').addEventListener('click', (e) => {
                        const jobId = e.target.getAttribute('data-job-id');
                        showConfirmationDialog('Are you sure you want to cancel this job?', async () => {
                            await makeApiRequest(`/v1/chat/async/${jobId}/cancel`, 'POST');
                            const statusElement = jobCard.querySelector('.job-status');
                            statusElement.textContent = 'Cancelled';
                            statusElement.className = 'job-status status-failed';
                        });
                    });

                    // Simulate job progress
                    let progress = 0;
                    const progressBar = jobCard.querySelector('.progress-bar');
                    const statusElement = jobCard.querySelector('.job-status');

                    const progressInterval = setInterval(async () => {
                        progress += Math.random() * 10;
                        if (progress >= 100) {
                            progress = 100;
                            clearInterval(progressInterval);

                            // Update job status
                            const jobResponse = await makeApiRequest(`/v1/chat/async/${jobId}`, 'GET');
                            if (jobResponse.status === 'completed') {
                                statusElement.textContent = 'Completed';
                                statusElement.className = 'job-status status-completed';
                            } else if (jobResponse.status === 'failed') {
                                statusElement.textContent = 'Failed';
                                statusElement.className = 'job-status status-failed';
                            }
                        }
                        progressBar.style.width = `${progress}%`;
                    }, 1000);
                } catch (error) {
                    console.error('Error parsing messages:', error);
                    alert('Invalid JSON format for messages');
                }
            });

            document.getElementById('async-clear').addEventListener('click', () => {
                document.getElementById('async-messages').value = '';
                document.getElementById('async-response').textContent = '';
                document.getElementById('async-jobs-container').innerHTML = '';
            });

            // Chat vision tab
            document.getElementById('vision-submit').addEventListener('click', async () => {
                const model = document.getElementById('vision-model').value;
                const messages = document.getElementById('vision-messages').value;
                const imageFile = document.getElementById('vision-image').files[0];

                if (!imageFile) {
                    alert('Please upload an image');
                    return;
                }

                try {
                    const messagesJson = JSON.parse(messages);

                    // Convert image to base64
                    const reader = new FileReader();
                    reader.readAsDataURL(imageFile);

                    reader.onload = async () => {
                        const base64Image = reader.result.split(',')[1];

                        const response = await makeApiRequest('/v1/chat/vision', 'POST', {
                            model,
                            messages: messagesJson,
                            image: base64Image
                        });

                        document.getElementById('vision-response').textContent = JSON.stringify(response, null, 2);
                    };

                    reader.onerror = (error) => {
                        console.error('Error reading image file:', error);
                        alert('Error reading image file');
                    };
                } catch (error) {
                    console.error('Error parsing messages:', error);
                    alert('Invalid JSON format for messages');
                }
            });

            document.getElementById('vision-clear').addEventListener('click', () => {
                document.getElementById('vision-messages').value = '';
                document.getElementById('vision-image').value = '';
                document.getElementById('image-preview').classList.remove('active');
                document.getElementById('vision-response').textContent = '';
            });

            // Embeddings tab
            document.getElementById('embeddings-submit').addEventListener('click', async () => {
                const input = document.getElementById('embeddings-input').value;
                const model = document.getElementById('embeddings-model').value;
                const dimensions = parseInt(document.getElementById('embeddings-dimensions').value);

                const response = await makeApiRequest('/v1/embeddings', 'POST', {
                    input,
                    model,
                    dimensions
                });

                document.getElementById('embeddings-response').textContent = JSON.stringify(response, null, 2);

                // Visualize embeddings
                if (response.data && response.data[0] && response.data[0].embedding) {
                    visualizeEmbeddings(response.data[0].embedding);
                }
            });

            function visualizeEmbeddings(embedding) {
                const visualization = document.getElementById('embedding-visualization');
                visualization.innerHTML = '';

                // Create a simple visualization of the first few dimensions
                const maxDimensions = Math.min(embedding.length, 20);
                const container = document.createElement('div');
                container.style.display = 'flex';
                container.style.flexWrap = 'wrap';
                container.style.gap = '10px';
                container.style.padding = '20px';

                for (let i = 0; i < maxDimensions; i++) {
                    const value = embedding[i];
                    const bar = document.createElement('div');
                    bar.style.width = '20px';
                    bar.style.height = `${Math.abs(value) * 100}px`;
                    bar.style.backgroundColor = value > 0 ? 'var(--primary-color)' : 'var(--error-color)';
                    bar.style.borderRadius = '4px';
                    bar.title = `Dimension ${i + 1}: ${value.toFixed(4)}`;

                    const label = document.createElement('div');
                    label.textContent = i + 1;
                    label.style.textAlign = 'center';
                    label.style.fontSize = '12px';

                    const dimensionContainer = document.createElement('div');
                    dimensionContainer.style.display = 'flex';
                    dimensionContainer.style.flexDirection = 'column';
                    dimensionContainer.style.alignItems = 'center';
                    dimensionContainer.style.gap = '5px';

                    dimensionContainer.appendChild(bar);
                    dimensionContainer.appendChild(label);
                    container.appendChild(dimensionContainer);
                }

                visualization.appendChild(container);
            }

            document.getElementById('embeddings-clear').addEventListener('click', () => {
                document.getElementById('embeddings-input').value = '';
                document.getElementById('embeddings-response').textContent = '';
                document.getElementById('embedding-visualization').innerHTML = '<p>Embedding visualization will appear here</p>';
            });

            // Text chunking tab
            document.getElementById('chunking-submit').addEventListener('click', () => {
                const inputText = document.getElementById('chunking-input').value;
                const chunkSize = parseInt(document.getElementById('chunk-size').value);
                const chunkOverlap = parseInt(document.getElementById('chunk-overlap').value);

                const chunks = chunkText(inputText, chunkSize, chunkOverlap);

                document.getElementById('chunking-response').textContent = chunks.map((chunk, index) =>
                    `Chunk ${index + 1}:\n${chunk}\n\n`
                ).join('');
            });

            function chunkText(text, chunkSize, chunkOverlap) {
                const chunks = [];
                let start = 0;

                while (start < text.length) {
                    let end = start + chunkSize;

                    if (end > text.length) {
                        end = text.length;
                    }

                    // Find the last space within the chunk to avoid breaking words
                    const lastSpace = text.lastIndexOf(' ', end);
                    if (lastSpace > start) {
                        end = lastSpace;
                    }

                    chunks.push(text.substring(start, end));
                    start = end - chunkOverlap;
                }

                return chunks;
            }

            document.getElementById('chunking-clear').addEventListener('click', () => {
                document.getElementById('chunking-input').value = '';
                document.getElementById('chunking-response').textContent = '';
            });

            // Batch embeddings tab
            document.getElementById('batch-embeddings-submit').addEventListener('click', async () => {
                const inputTexts = document.getElementById('batch-embeddings-input').value.split('\n').filter(text => text.trim() !== '');
                const model = document.getElementById('batch-embeddings-model').value;
                const dimensions = parseInt(document.getElementById('batch-embeddings-dimensions').value);

                const response = await makeApiRequest('/v1/embeddings/batch', 'POST', {
                    input: inputTexts,
                    model,
                    dimensions
                });

                document.getElementById('batch-embeddings-response').textContent = JSON.stringify(response, null, 2);
            });

            document.getElementById('batch-embeddings-clear').addEventListener('click', () => {
                document.getElementById('batch-embeddings-input').value = '';
                document.getElementById('batch-embeddings-response').textContent = '';
            });

            // Semantic search tab
            document.getElementById('search-submit').addEventListener('click', async () => {
                const query = document.getElementById('search-query').value;
                const documents = document.getElementById('search-documents').value.split('\n').filter(doc => doc.trim() !== '');
                const threshold = parseFloat(document.getElementById('similarity-threshold').value);

                // Generate embeddings for query and documents
                const queryResponse = await makeApiRequest('/v1/embeddings', 'POST', {
                    input: query,
                    model: 'mistral-embed-small',
                    dimensions: 384
                });

                const documentsResponse = await makeApiRequest('/v1/embeddings/batch', 'POST', {
                    input: documents,
                    model: 'mistral-embed-small',
                    dimensions: 384
                });

                if (!queryResponse || !documentsResponse) {
                    return;
                }

                const queryEmbedding = queryResponse.data[0].embedding;
                const documentEmbeddings = documentsResponse.data.map(item => item.embedding);

                // Calculate cosine similarity between query and each document
                const results = documents.map((doc, index) => {
                    const similarity = cosineSimilarity(queryEmbedding, documentEmbeddings[index]);
                    return {
                        document: doc,
                        similarity: similarity,
                        relevant: similarity >= threshold
                    };
                });

                // Sort by similarity (descending)
                results.sort((a, b) => b.similarity - a.similarity);

                document.getElementById('search-response').textContent = results.map(result =>
                    `Document: ${result.document}\nSimilarity: ${result.similarity.toFixed(4)}\nRelevant: ${result.relevant}\n\n`
                ).join('');
            });

            function cosineSimilarity(vecA, vecB) {
                let dotProduct = 0;
                let normA = 0;
                let normB = 0;

                for (let i = 0; i < vecA.length; i++) {
                    dotProduct += vecA[i] * vecB[i];
                    normA += vecA[i] * vecA[i];
                    normB += vecB[i] * vecB[i];
                }

                if (normA === 0 || normB === 0) {
                    return 0;
                }

                return dotProduct / (Math.sqrt(normA) * Math.sqrt(normB));
            }

            document.getElementById('search-clear').addEventListener('click', () => {
                document.getElementById('search-query').value = '';
                document.getElementById('search-documents').value = '';
                document.getElementById('search-response').textContent = '';
            });

            // Files tab
            document.getElementById('upload-submit').addEventListener('click', async () => {
                const files = document.getElementById('file-input').files;

                if (files.length === 0) {
                    alert('Please select files to upload');
                    return;
                }

                const formData = new FormData();
                Array.from(files).forEach(file => {
                    formData.append('files', file);
                });

                try {
                    const response = await fetch(`${API_BASE_URL}/v1/files`, {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${apiKeyInput.value.trim()}`
                        },
                        body: formData
                    });

                    if (!response.ok) {
                        const errorData = await response.json().catch(() => ({}));
                        throw new Error(errorData.error?.message || `HTTP error! status: ${response.status}`);
                    }

                    const data = await response.json();
                    document.getElementById('upload-response').textContent = JSON.stringify(data, null, 2);
                } catch (error) {
                    console.error('Upload failed:', error);
                    alert(`Upload failed: ${error.message}`);
                }
            });

            document.getElementById('upload-clear').addEventListener('click', () => {
                document.getElementById('file-input').value = '';
                document.getElementById('file-list').innerHTML = '';
                document.getElementById('upload-response').textContent = '';
            });

            document.getElementById('list-files').addEventListener('click', async () => {
                const search = document.getElementById('file-search').value;
                const type = document.getElementById('file-type').value;
                const purpose = document.getElementById('file-purpose').value;
                const sort = document.getElementById('file-sort').value;
                const order = document.getElementById('file-sort-order').textContent === '↓' ? 'desc' : 'asc';

                const params = new URLSearchParams();
                if (search) params.append('search', search);
                if (type !== 'all') params.append('type', type);
                if (purpose !== 'all') params.append('purpose', purpose);
                params.append('sort', sort);
                params.append('order', order);

                const response = await makeApiRequest(`/v1/files?${params.toString()}`, 'GET');

                if (response) {
                    const filesList = document.getElementById('files-list');
                    filesList.innerHTML = '';

                    response.data.forEach(file => {
                        const fileCard = document.createElement('div');
                        fileCard.className = 'file-card';
                        fileCard.innerHTML = `
                            <div class="file-icon">📄</div>
                            <div class="file-info">
                                <div class="file-name">${file.filename}</div>
                                <div class="file-details">
                                    <span>ID: ${file.id}</span>
                                    <span>Size: ${formatFileSize(file.bytes)}</span>
                                    <span>Created: ${new Date(file.created_at * 1000).toLocaleString()}</span>
                                </div>
                            </div>
                            <div class="file-actions">
                                <button class="view-file" data-file-id="${file.id}">View</button>
                                <button class="delete-file" data-file-id="${file.id}">Delete</button>
                            </div>
                        `;

                        filesList.appendChild(fileCard);

                        // Set up event listeners for the new file card
                        fileCard.querySelector('.view-file').addEventListener('click', async (e) => {
                            const fileId = e.target.getAttribute('data-file-id');
                            const fileResponse = await makeApiRequest(`/v1/files/${fileId}`, 'GET');

                            if (fileResponse) {
                                document.getElementById('file-id').value = fileId;
                                document.getElementById('file-details').innerHTML = `
                                    <div class="file-detail-header">
                                        <h4>${fileResponse.filename}</h4>
                                        <div class="file-actions">
                                            <button class="download-file" data-file-id="${fileResponse.id}">Download</button>
                                        </div>
                                    </div>
                                    <div class="file-detail">
                                        <div><strong>ID:</strong> ${fileResponse.id}</div>
                                        <div><strong>Size:</strong> ${formatFileSize(fileResponse.bytes)}</div>
                                        <div><strong>Created:</strong> ${new Date(fileResponse.created_at * 1000).toLocaleString()}</div>
                                        <div><strong>Purpose:</strong> ${fileResponse.purpose}</div>
                                    </div>
                                    <div class="file-content">
                                        <pre>${fileResponse.content || 'File content not available'}</pre>
                                    </div>
                                `;

                                // Set up download button
                                document.querySelector('.download-file').addEventListener('click', async (e) => {
                                    const fileId = e.target.getAttribute('data-file-id');
                                    window.open(`${API_BASE_URL}/v1/files/${fileId}/content`, '_blank');
                                });
                            }
                        });

                        fileCard.querySelector('.delete-file').addEventListener('click', (e) => {
                            const fileId = e.target.getAttribute('data-file-id');
                            showConfirmationDialog('Are you sure you want to delete this file?', async () => {
                                await makeApiRequest(`/v1/files/${fileId}`, 'DELETE');
                                fileCard.remove();
                            });
                        });
                    });
                }
            });

            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }

            document.getElementById('file-sort-order').addEventListener('click', (e) => {
                e.target.textContent = e.target.textContent === '↓' ? '↑' : '↓';
            });

            document.getElementById('retrieve-file').addEventListener('click', async () => {
                const fileId = document.getElementById('file-id').value.trim();

                if (!fileId) {
                    alert('Please enter a file ID');
                    return;
                }

                const response = await makeApiRequest(`/v1/files/${fileId}`, 'GET');

                if (response) {
                    document.getElementById('file-details').innerHTML = `
                        <div class="file-detail-header">
                            <h4>${response.filename}</h4>
                            <div class="file-actions">
                                <button class="download-file" data-file-id="${response.id}">Download</button>
                            </div>
                        </div>
                        <div class="file-detail">
                            <div><strong>ID:</strong> ${response.id}</div>
                            <div><strong>Size:</strong> ${formatFileSize(response.bytes)}</div>
                            <div><strong>Created:</strong> ${new Date(response.created_at * 1000).toLocaleString()}</div>
                            <div><strong>Purpose:</strong> ${response.purpose}</div>
                        </div>
                        <div class="file-content">
                            <pre>${response.content || 'File content not available'}</pre>
                        </div>
                    `;

                    // Set up download button
                    document.querySelector('.download-file').addEventListener('click', async (e) => {
                        const fileId = e.target.getAttribute('data-file-id');
                        window.open(`${API_BASE_URL}/v1/files/${fileId}/content`, '_blank');
                    });
                }
            });

            document.getElementById('delete-file').addEventListener('click', () => {
                const fileId = document.getElementById('delete-file-id').value.trim();

                if (!fileId) {
                    alert('Please enter a file ID');
                    return;
                }

                showConfirmationDialog('Are you sure you want to delete this file?', async () => {
                    const response = await makeApiRequest(`/v1/files/${fileId}`, 'DELETE');

                    if (response) {
                        document.getElementById('delete-file-response').textContent = JSON.stringify(response, null, 2);
                    }
                });
            });

            // Fine-tuning tab
            document.getElementById('create-fine-tuning').addEventListener('click', async () => {
                const trainingFile = document.getElementById('training-file').value.trim();
                const validationFile = document.getElementById('validation-file').value.trim();
                const model = document.getElementById('model').value;
                const learningRate = parseFloat(document.getElementById('learning-rate').value);
                const batchSize = parseInt(document.getElementById('batch-size').value);
                const epochs = parseInt(document.getElementById('epochs').value);

                if (!trainingFile) {
                    alert('Please enter a training file ID');
                    return;
                }

                const requestBody = {
                    training_file: trainingFile,
                    model,
                    hyperparameters: {
                        learning_rate_multiplier: learningRate,
                        batch_size: batchSize,
                        n_epochs: epochs
                    }
                };

                if (validationFile) {
                    requestBody.validation_file = validationFile;
                }

                const response = await makeApiRequest('/v1/fine_tuning/jobs', 'POST', requestBody);

                if (response) {
                    document.getElementById('fine-tuning-response').textContent = JSON.stringify(response, null, 2);

                    // Add job to job management dashboard
                    const jobId = response.id;
                    const jobCard = document.createElement('div');
                    jobCard.className = 'job-card';
                    jobCard.innerHTML = `
                        <div class="job-header">
                            <h4>Job ID: ${jobId}</h4>
                            <span class="job-status status-pending">Pending</span>
                        </div>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 0%;"></div>
                        </div>
                        <div class="job-actions">
                            <button class="view-job" data-job-id="${jobId}">View</button>
                            <button class="cancel-job" data-job-id="${jobId}">Cancel</button>
                        </div>
                    `;

                    document.getElementById('fine-tuning-jobs').appendChild(jobCard);

                    // Set up event listeners for the new job card
                    jobCard.querySelector('.view-job').addEventListener('click', async (e) => {
                        const jobId = e.target.getAttribute('data-job-id');
                        const jobResponse = await makeApiRequest(`/v1/fine_tuning/jobs/${jobId}`, 'GET');
                        alert(JSON.stringify(jobResponse, null, 2));
                    });

                    jobCard.querySelector('.cancel-job').addEventListener('click', (e) => {
                        const jobId = e.target.getAttribute('data-job-id');
                        showConfirmationDialog('Are you sure you want to cancel this job?', async () => {
                            await makeApiRequest(`/v1/fine_tuning/jobs/${jobId}/cancel`, 'POST');
                            const statusElement = jobCard.querySelector('.job-status');
                            statusElement.textContent = 'Cancelled';
                            statusElement.className = 'job-status status-failed';
                        });
                    });

                    // Simulate job progress
                    let progress = 0;
                    const progressBar = jobCard.querySelector('.progress-bar');
                    const statusElement = jobCard.querySelector('.job-status');

                    const progressInterval = setInterval(async () => {
                        progress += Math.random() * 5;
                        if (progress >= 100) {
                            progress = 100;
                            clearInterval(progressInterval);

                            // Update job status
                            const jobResponse = await makeApiRequest(`/v1/fine_tuning/jobs/${jobId}`, 'GET');
                            if (jobResponse.status === 'succeeded') {
                                statusElement.textContent = 'Completed';
                                statusElement.className = 'job-status status-completed';
                            } else if (jobResponse.status === 'failed') {
                                statusElement.textContent = 'Failed';
                                statusElement.className = 'job-status status-failed';
                            }
                        }
                        progressBar.style.width = `${progress}%`;
                    }, 1000);
                }
            });

            document.getElementById('fine-tuning-clear').addEventListener('click', () => {
                document.getElementById('training-file').value = '';
                document.getElementById('validation-file').value = '';
                document.getElementById('fine-tuning-response').textContent = '';
            });

            document.getElementById('list-fine-tuning').addEventListener('click', async () => {
                const response = await makeApiRequest('/v1/fine_tuning/jobs', 'GET');

                if (response) {
                    const jobsContainer = document.getElementById('fine-tuning-jobs');
                    jobsContainer.innerHTML = '';

                    response.data.forEach(job => {
                        const jobCard = document.createElement('div');
                        jobCard.className = 'job-card';
                        jobCard.innerHTML = `
                            <div class="job-header">
                                <h4>Job ID: ${job.id}</h4>
                                <span class="job-status ${getJobStatusClass(job.status)}">${job.status}</span>
                            </div>
                            <div class="progress-container">
                                <div class="progress-bar" style="width: ${job.progress || 0}%;"></div>
                            </div>
                            <div class="job-actions">
                                <button class="view-job" data-job-id="${job.id}">View</button>
                                <button class="cancel-job" data-job-id="${job.id}">Cancel</button>
                            </div>
                        `;

                        jobsContainer.appendChild(jobCard);

                        // Set up event listeners for the new job card
                        jobCard.querySelector('.view-job').addEventListener('click', async (e) => {
                            const jobId = e.target.getAttribute('data-job-id');
                            const jobResponse = await makeApiRequest(`/v1/fine_tuning/jobs/${jobId}`, 'GET');
                            alert(JSON.stringify(jobResponse, null, 2));
                        });

                        jobCard.querySelector('.cancel-job').addEventListener('click', (e) => {
                            const jobId = e.target.getAttribute('data-job-id');
                            showConfirmationDialog('Are you sure you want to cancel this job?', async () => {
                                await makeApiRequest(`/v1/fine_tuning/jobs/${jobId}/cancel`, 'POST');
                                const statusElement = jobCard.querySelector('.job-status');
                                statusElement.textContent = 'Cancelled';
                                statusElement.className = 'job-status status-failed';
                            });
                        });
                    });
                }
            });

            function getJobStatusClass(status) {
                switch (status) {
                    case 'pending':
                        return 'status-pending';
                    case 'running':
                        return 'status-running';
                    case 'succeeded':
                        return 'status-completed';
                    case 'failed':
                        return 'status-failed';
                    default:
                        return 'status-pending';
                }
            }

            document.getElementById('start-fine-tuning').addEventListener('click', async () => {
                const jobId = document.getElementById('start-job-id').value.trim();
                const startTime = document.getElementById('start-time').value;

                if (!jobId) {
                    alert('Please enter a job ID');
                    return;
                }

                const requestBody = {};
                if (startTime) {
                    requestBody.start_time = Math.floor(new Date(startTime).getTime() / 1000);
                }

                const response = await makeApiRequest(`/v1/fine_tuning/jobs/${jobId}/start`, 'POST', requestBody);

                if (response) {
                    document.getElementById('start-fine-tuning-response').textContent = JSON.stringify(response, null, 2);
                }
            });

            document.getElementById('list-checkpoints').addEventListener('click', async () => {
                const jobId = document.getElementById('checkpoint-job-id').value.trim();

                if (!jobId) {
                    alert('Please enter a job ID');
                    return;
                }

                const response = await makeApiRequest(`/v1/fine_tuning/jobs/${jobId}/checkpoints`, 'GET');

                if (response) {
                    const checkpointsContainer = document.getElementById('checkpoints-list');
                    checkpointsContainer.innerHTML = '';

                    response.data.forEach(checkpoint => {
                        const checkpointCard = document.createElement('div');
                        checkpointCard.className = 'checkpoint-card';
                        checkpointCard.innerHTML = `
                            <div class="checkpoint-header">
                                <h4>Checkpoint ID: ${checkpoint.id}</h4>
                            </div>
                            <div class="checkpoint-details">
                                <div><strong>Created:</strong> ${new Date(checkpoint.created_at * 1000).toLocaleString()}</div>
                                <div><strong>Metrics:</strong> ${JSON.stringify(checkpoint.metrics)}</div>
                            </div>
                        `;

                        checkpointsContainer.appendChild(checkpointCard);

                        // Set up click event to select checkpoint
                        checkpointCard.addEventListener('click', () => {
                            document.querySelectorAll('.checkpoint-card').forEach(card => {
                                card.classList.remove('selected');
                            });
                            checkpointCard.classList.add('selected');
                        });
                    });
                }
            });

            document.getElementById('list-events').addEventListener('click', async () => {
                const jobId = document.getElementById('events-job-id').value.trim();

                if (!jobId) {
                    alert('Please enter a job ID');
                    return;
                }

                const response = await makeApiRequest(`/v1/fine_tuning/jobs/${jobId}/events`, 'GET');

                if (response) {
                    const eventsContainer = document.getElementById('events-timeline');
                    eventsContainer.innerHTML = '';

                    response.data.forEach(event => {
                        const eventElement = document.createElement('div');
                        eventElement.className = 'timeline-event';
                        eventElement.innerHTML = `
                            <div class="event-time">${new Date(event.created_at * 1000).toLocaleString()}</div>
                            <div class="event-description">${event.message}</div>
                            <div class="event-level">${event.level}</div>
                        `;

                        eventsContainer.appendChild(eventElement);
                    });
                }
            });

            document.getElementById('download-model').addEventListener('click', async () => {
                const jobId = document.getElementById('download-job-id').value.trim();
                const format = document.getElementById('download-format').value;

                if (!jobId) {
                    alert('Please enter a job ID');
                    return;
                }

                const response = await makeApiRequest(`/v1/fine_tuning/jobs/${jobId}/download`, 'POST', { format });

                if (response) {
                    document.getElementById('download-model-response').textContent = JSON.stringify(response, null, 2);

                    // Simulate download
                    setTimeout(() => {
                        alert(`Model downloaded in ${format} format`);
                    }, 1000);
                }
            });

            // Batch tab
            document.getElementById('create-batch').addEventListener('click', async () => {
                const inputFile = document.getElementById('batch-input-file').value.trim();
                const endpoint = document.getElementById('batch-endpoint').value;
                const completionWindow = document.getElementById('batch-completion-window').value;
                const outputFilePrefix = document.getElementById('batch-output-file-prefix').value.trim();
                const metadata = document.getElementById('batch-metadata').value;

                if (!inputFile) {
                    alert('Please enter an input file ID');
                    return;
                }

                if (!outputFilePrefix) {
                    alert('Please enter an output file prefix');
                    return;
                }

                try {
                    const metadataJson = metadata ? JSON.parse(metadata) : {};

                    const response = await makeApiRequest('/v1/batches', 'POST', {
                        input_file_id: inputFile,
                        endpoint,
                        completion_window: completionWindow,
                        output_file_prefix: outputFilePrefix,
                        metadata: metadataJson
                    });

                    if (response) {
                        document.getElementById('batch-response').textContent = JSON.stringify(response, null, 2);

                        // Add batch to monitoring dashboard
                        addBatchToMonitoring(response);
                    }
                } catch (error) {
                    console.error('Error parsing metadata:', error);
                    alert('Invalid JSON format for metadata');
                }
            });

            document.getElementById('batch-clear').addEventListener('click', () => {
                document.getElementById('batch-input-file').value = '';
                document.getElementById('batch-output-file-prefix').value = '';
                document.getElementById('batch-metadata').value = '';
                document.getElementById('batch-response').textContent = '';
            });

            document.getElementById('list-batches').addEventListener('click', async () => {
                const response = await makeApiRequest('/v1/batches', 'GET');

                if (response) {
                    const batchesContainer = document.getElementById('batch-jobs');
                    batchesContainer.innerHTML = '';

                    response.data.forEach(batch => {
                        const batchCard = document.createElement('div');
                        batchCard.className = 'batch-job-card';
                        batchCard.innerHTML = `
                            <div class="batch-job-header">
                                <h4>Batch ID: ${batch.id}</h4>
                                <span class="batch-job-status ${getBatchStatusClass(batch.status)}">${batch.status}</span>
                            </div>
                            <div class="batch-job-progress">
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: ${batch.progress || 0}%;"></div>
                                </div>
                                <div>Progress: ${batch.progress || 0}%</div>
                            </div>
                            <div class="batch-job-details">
                                <div><strong>Input File:</strong> ${batch.input_file_id}</div>
                                <div><strong>Output File:</strong> ${batch.output_file_id || 'N/A'}</div>
                                <div><strong>Endpoint:</strong> ${batch.endpoint}</div>
                                <div><strong>Created:</strong> ${new Date(batch.created_at * 1000).toLocaleString()}</div>
                                <div><strong>Completed:</strong> ${batch.completed_at ? new Date(batch.completed_at * 1000).toLocaleString() : 'N/A'}</div>
                            </div>
                            <div class="batch-job-actions">
                                <button class="view-batch" data-batch-id="${batch.id}">View</button>
                                <button class="cancel-batch" data-batch-id="${batch.id}">Cancel</button>
                                <button class="download-batch" data-batch-id="${batch.id}">Download</button>
                            </div>
                        `;

                        batchesContainer.appendChild(batchCard);

                        // Set up event listeners for the new batch card
                        batchCard.querySelector('.view-batch').addEventListener('click', async (e) => {
                            const batchId = e.target.getAttribute('data-batch-id');
                            const batchResponse = await makeApiRequest(`/v1/batches/${batchId}`, 'GET');
                            alert(JSON.stringify(batchResponse, null, 2));
                        });

                        batchCard.querySelector('.cancel-batch').addEventListener('click', (e) => {
                            const batchId = e.target.getAttribute('data-batch-id');
                            showConfirmationDialog('Are you sure you want to cancel this batch?', async () => {
                                await makeApiRequest(`/v1/batches/${batchId}/cancel`, 'POST');
                                const statusElement = batchCard.querySelector('.batch-job-status');
                                statusElement.textContent = 'Cancelled';
                                statusElement.className = 'batch-job-status status-failed';
                            });
                        });

                        batchCard.querySelector('.download-batch').addEventListener('click', async (e) => {
                            const batchId = e.target.getAttribute('data-batch-id');
                            window.open(`${API_BASE_URL}/v1/batches/${batchId}/output`, '_blank');
                        });
                    });
                }
            });

            function getBatchStatusClass(status) {
                switch (status) {
                    case 'queued':
                        return 'status-queued';
                    case 'in_progress':
                        return 'status-running';
                    case 'completed':
                        return 'status-completed';
                    case 'failed':
                        return 'status-failed';
                    case 'cancelled':
                        return 'status-failed';
                    default:
                        return 'status-queued';
                }
            }

            function addBatchToMonitoring(batch) {
                const batchCard = document.createElement('div');
                batchCard.className = 'batch-job-card';
                batchCard.innerHTML = `
                    <div class="batch