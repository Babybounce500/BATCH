<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Mistral AI Chef's Kitchen - AI-powered recipe generation and exploration">
    <title>Mistral AI Chef's Kitchen</title>
    <style>
        :root {
            --primary-color: #ff6b6b;
            --secondary-color: #4ecdc4;
            --dark-color: #2c3e50;
            --light-color: #ecf0f1;
            --success-color: #2ecc71;
            --danger-color: #e74c3c;
            --warning-color: #f39c12;
            --info-color: #3498db;
            --text-color: #333;
            --text-light: #fff;
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            --max-width: 1200px;
            --border-radius: 4px;
            --box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family);
            color: var(--text-color);
            line-height: 1.6;
            background-color: var(--light-color);
        }

        header {
            background-color: var(--dark-color);
            color: var(--text-light);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--box-shadow);
        }

        .container {
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 0 1rem;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: bold;
            text-decoration: none;
            color: var(--text-light);
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 1.5rem;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-light);
            font-weight: 500;
            transition: var(--transition);
        }

        .nav-links a:hover {
            color: var(--primary-color);
        }

        .menu-toggle {
            display: none;
            cursor: pointer;
            font-size: 1.5rem;
        }

        main {
            padding: 2rem 0;
        }

        section {
            margin-bottom: 3rem;
        }

        h1, h2, h3 {
            margin-bottom: 1rem;
            color: var(--dark-color);
        }

        h1 {
            font-size: clamp(2rem, 5vw, 3rem);
        }

        h2 {
            font-size: clamp(1.5rem, 4vw, 2rem);
        }

        h3 {
            font-size: clamp(1.2rem, 3vw, 1.5rem);
        }

        p {
            margin-bottom: 1rem;
        }

        .btn {
            display: inline-block;
            background-color: var(--primary-color);
            color: var(--text-light);
            padding: 0.5rem 1rem;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
        }

        .btn:hover {
            background-color: #ff5252;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: var(--secondary-color);
        }

        .btn-secondary:hover {
            background-color: #3aa89e;
        }

        .btn-block {
            display: block;
            width: 100%;
        }

        .card {
            background-color: #fff;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-header {
            background-color: var(--primary-color);
            color: var(--text-light);
            padding: 1rem;
        }

        .card-body {
            padding: 1.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-family: var(--font-family);
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(255, 107, 107, 0.2);
        }

        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }

        .alert {
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: var(--border-radius);
            color: var(--text-light);
        }

        .alert-success {
            background-color: var(--success-color);
        }

        .alert-danger {
            background-color: var(--danger-color);
        }

        .alert-warning {
            background-color: var(--warning-color);
        }

        .alert-info {
            background-color: var(--info-color);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }

        .flex {
            display: flex;
        }

        .justify-between {
            justify-content: space-between;
        }

        .align-center {
            align-items: center;
        }

        .text-center {
            text-align: center;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--text-light);
            animation: spin 1s ease-in-out infinite;
            margin-left: 1rem;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .recipe-card {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .recipe-image {
            height: 200px;
            overflow: hidden;
        }

        .recipe-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .recipe-card:hover .recipe-image img {
            transform: scale(1.05);
        }

        .recipe-details {
            padding: 1rem;
            flex-grow: 1;
        }

        .recipe-actions {
            padding: 1rem;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }

        .wavesurfer-container {
            margin-top: 1rem;
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .wavesurfer-container .wavesurfer {
            background-color: #f9f9f9;
        }

        .wavesurfer-container .wavesurfer-region {
            background-color: rgba(78, 205, 196, 0.3);
        }

        .wavesurfer-container .wavesurfer-handle {
            background-color: var(--secondary-color);
        }

        .meal-plan {
            background-color: #fff;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .meal-day {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #eee;
        }

        .meal-day:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .meal-day h3 {
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .meal-item {
            display: flex;
            margin-bottom: 1rem;
        }

        .meal-item:last-child {
            margin-bottom: 0;
        }

        .meal-time {
            font-weight: bold;
            margin-right: 1rem;
            min-width: 80px;
        }

        .meal-recipe {
            flex-grow: 1;
        }

        .meal-actions {
            margin-left: 1rem;
        }

        .meal-actions button {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--primary-color);
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .meal-actions button:hover {
            color: var(--danger-color);
        }

        footer {
            background-color: var(--dark-color);
            color: var(--text-light);
            padding: 2rem 0;
            margin-top: 2rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section li {
            margin-bottom: 0.5rem;
        }

        .footer-section a {
            color: var(--text-light);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-section a:hover {
            color: var(--primary-color);
        }

        .social-links {
            display: flex;
        }

        .social-links a {
            margin-right: 1rem;
            font-size: 1.5rem;
        }

        .copyright {
            text-align: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        @media (max-width: 768px) {
            .nav-links {
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background-color: var(--dark-color);
                flex-direction: column;
                align-items: center;
                padding: 1rem 0;
                clip-path: circle(0px at 90% -10%);
                transition: clip-path 0.5s ease-in-out;
            }

            .nav-links.active {
                clip-path: circle(1000px at 90% -10%);
            }

            .nav-links li {
                margin: 0.5rem 0;
            }

            .menu-toggle {
                display: block;
            }

            .grid {
                grid-template-columns: 1fr;
            }

            .meal-day {
                margin-bottom: 2rem;
                padding-bottom: 2rem;
            }

            .footer-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <a href="#" class="logo">Mistral AI Chef's Kitchen</a>
                <div class="menu-toggle">☰</div>
                <ul class="nav-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#generate">Generate Recipe</a></li>
                    <li><a href="#explore">Explore Recipes</a></li>
                    <li><a href="#meal-plan">Meal Plan</a></li>
                    <li><a href="#about">About</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section id="home" class="hero">
            <div class="container">
                <div class="card">
                    <div class="card-header">
                        <h1>Welcome to Mistral AI Chef's Kitchen</h1>
                    </div>
                    <div class="card-body">
                        <p>Discover the power of AI in your culinary journey. Generate unique recipes, explore new flavors, and create personalized meal plans with our advanced AI technology.</p>
                        <div class="flex justify-between">
                            <a href="#generate" class="btn">Generate Recipe</a>
                            <a href="#explore" class="btn btn-secondary">Explore Recipes</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="generate">
            <div class="container">
                <h2>Generate a Recipe</h2>
                <div class="card">
                    <div class="card-header">
                        <h3>Recipe Generator</h3>
                    </div>
                    <div class="card-body">
                        <form id="recipeForm">
                            <div class="form-group">
                                <label for="dishType">Dish Type</label>
                                <select id="dishType" class="form-control" required>
                                    <option value="">Select a dish type</option>
                                    <option value="appetizer">Appetizer</option>
                                    <option value="main course">Main Course</option>
                                    <option value="dessert">Dessert</option>
                                    <option value="salad">Salad</option>
                                    <option value="soup">Soup</option>
                                    <option value="drink">Drink</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="cuisine">Cuisine</label>
                                <select id="cuisine" class="form-control" required>
                                    <option value="">Select a cuisine</option>
                                    <option value="italian">Italian</option>
                                    <option value="mexican">Mexican</option>
                                    <option value="indian">Indian</option>
                                    <option value="chinese">Chinese</option>
                                    <option value="japanese">Japanese</option>
                                    <option value="french">French</option>
                                    <option value="american">American</option>
                                    <option value="thai">Thai</option>
                                    <option value="mediterranean">Mediterranean</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="ingredients">Ingredients (comma separated)</label>
                                <input type="text" id="ingredients" class="form-control" placeholder="e.g., chicken, tomatoes, garlic">
                            </div>
                            <div class="form-group">
                                <label for="dietaryRestrictions">Dietary Restrictions</label>
                                <select id="dietaryRestrictions" class="form-control">
                                    <option value="">Select dietary restrictions</option>
                                    <option value="vegetarian">Vegetarian</option>
                                    <option value="vegan">Vegan</option>
                                    <option value="gluten-free">Gluten-free</option>
                                    <option value="dairy-free">Dairy-free</option>
                                    <option value="nut-free">Nut-free</option>
                                    <option value="low-carb">Low-carb</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="cookingTime">Cooking Time (minutes)</label>
                                <input type="number" id="cookingTime" class="form-control" min="10" max="180" placeholder="e.g., 30">
                            </div>
                            <div class="form-group">
                                <label for="difficulty">Difficulty Level</label>
                                <select id="difficulty" class="form-control">
                                    <option value="">Select difficulty level</option>
                                    <option value="easy">Easy</option>
                                    <option value="medium">Medium</option>
                                    <option value="hard">Hard</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-block">Generate Recipe</button>
                        </form>
                        <div id="generatedRecipe" class="card" style="display: none; margin-top: 2rem;">
                            <div class="card-header">
                                <h3 id="recipeTitle"></h3>
                            </div>
                            <div class="card-body">
                                <div class="recipe-image">
                                    <img id="recipeImage" src="" alt="Recipe Image">
                                </div>
                                <div class="recipe-details">
                                    <p><strong>Cuisine:</strong> <span id="recipeCuisine"></span></p>
                                    <p><strong>Dish Type:</strong> <span id="recipeDishType"></span></p>
                                    <p><strong>Cooking Time:</strong> <span id="recipeCookingTime"></span> minutes</p>
                                    <p><strong>Difficulty:</strong> <span id="recipeDifficulty"></span></p>
                                    <p><strong>Ingredients:</strong></p>
                                    <ul id="recipeIngredients"></ul>
                                    <p><strong>Instructions:</strong></p>
                                    <ol id="recipeInstructions"></ol>
                                </div>
                                <div class="wavesurfer-container">
                                    <div id="wavesurfer"></div>
                                </div>
                                <div class="recipe-actions">
                                    <button id="saveRecipe" class="btn">Save Recipe</button>
                                    <button id="generateSimilar" class="btn btn-secondary">Generate Similar Recipe</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="explore">
            <div class="container">
                <h2>Explore Recipes</h2>
                <div class="card">
                    <div class="card-header">
                        <h3>Recipe Explorer</h3>
                    </div>
                    <div class="card-body">
                        <form id="searchForm">
                            <div class="form-group">
                                <label for="searchQuery">Search Recipes</label>
                                <input type="text" id="searchQuery" class="form-control" placeholder="e.g., pasta, chicken, dessert">
                            </div>
                            <div class="form-group">
                                <label for="searchCuisine">Cuisine</label>
                                <select id="searchCuisine" class="form-control">
                                    <option value="">All Cuisines</option>
                                    <option value="italian">Italian</option>
                                    <option value="mexican">Mexican</option>
                                    <option value="indian">Indian</option>
                                    <option value="chinese">Chinese</option>
                                    <option value="japanese">Japanese</option>
                                    <option value="french">French</option>
                                    <option value="american">American</option>
                                    <option value="thai">Thai</option>
                                    <option value="mediterranean">Mediterranean</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="searchDishType">Dish Type</label>
                                <select id="searchDishType" class="form-control">
                                    <option value="">All Dish Types</option>
                                    <option value="appetizer">Appetizer</option>
                                    <option value="main course">Main Course</option>
                                    <option value="dessert">Dessert</option>
                                    <option value="salad">Salad</option>
                                    <option value="soup">Soup</option>
                                    <option value="drink">Drink</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="searchDietaryRestrictions">Dietary Restrictions</label>
                                <select id="searchDietaryRestrictions" class="form-control">
                                    <option value="">All Dietary Restrictions</option>
                                    <option value="vegetarian">Vegetarian</option>
                                    <option value="vegan">Vegan</option>
                                    <option value="gluten-free">Gluten-free</option>
                                    <option value="dairy-free">Dairy-free</option>
                                    <option value="nut-free">Nut-free</option>
                                    <option value="low-carb">Low-carb</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-block">Search Recipes</button>
                        </form>
                        <div id="searchResults" class="grid" style="margin-top: 2rem; display: none;"></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="meal-plan">
            <div class="container">
                <h2>Meal Plan</h2>
                <div class="card">
                    <div class="card-header">
                        <h3>Create Your Meal Plan</h3>
                    </div>
                    <div class="card-body">
                        <form id="mealPlanForm">
                            <div class="form-group">
                                <label for="startDate">Start Date</label>
                                <input type="date" id="startDate" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="numDays">Number of Days</label>
                                <input type="number" id="numDays" class="form-control" min="1" max="7" value="7" required>
                            </div>
                            <div class="form-group">
                                <label for="mealPlanDietaryRestrictions">Dietary Restrictions</label>
                                <select id="mealPlanDietaryRestrictions" class="form-control">
                                    <option value="">No Restrictions</option>
                                    <option value="vegetarian">Vegetarian</option>
                                    <option value="vegan">Vegan</option>
                                    <option value="gluten-free">Gluten-free</option>
                                    <option value="dairy-free">Dairy-free</option>
                                    <option value="nut-free">Nut-free</option>
                                    <option value="low-carb">Low-carb</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-block">Generate Meal Plan</button>
                        </form>
                        <div id="generatedMealPlan" style="display: none; margin-top: 2rem;"></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="about">
            <div class="container">
                <h2>About Mistral AI Chef's Kitchen</h2>
                <div class="card">
                    <div class="card-body">
                        <p>Mistral AI Chef's Kitchen is an innovative platform that combines the power of artificial intelligence with the art of cooking. Our advanced AI algorithms can generate unique recipes based on your preferences, explore a vast database of culinary creations, and create personalized meal plans tailored to your dietary needs and schedule.</p>
                        <p>Whether you're a seasoned chef looking for inspiration or a home cook seeking new ideas, Mistral AI Chef's Kitchen is your ultimate culinary companion. Discover the joy of cooking with AI-powered assistance and elevate your dining experience to new heights.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#generate">Generate Recipe</a></li>
                        <li><a href="#explore">Explore Recipes</a></li>
                        <li><a href="#meal-plan">Meal Plan</a></li>
                        <li><a href="#about">About</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contact Us</h3>
                    <p>Email: info@mistralaichefskitchen.com</p>
                    <p>Phone: (123) 456-7890</p>
                    <p>Address: 123 Culinary Street, Food City, FC 12345</p>
                </div>
                <div class="footer-section">
                    <h3>Follow Us</h3>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="Pinterest"><i class="fab fa-pinterest"></i></a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 Mistral AI Chef's Kitchen. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile menu toggle
            const menuToggle = document.querySelector('.menu-toggle');
            const navLinks = document.querySelector('.nav-links');

            menuToggle.addEventListener('click', function() {
                navLinks.classList.toggle('active');
            });

            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();

                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);

                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });

                        // Close mobile menu if open
                        if (navLinks.classList.contains('active')) {
                            navLinks.classList.remove('active');
                        }
                    }
                });
            });

            // Recipe form submission
            const recipeForm = document.getElementById('recipeForm');
            const generatedRecipe = document.getElementById('generatedRecipe');
            const recipeTitle = document.getElementById('recipeTitle');
            const recipeImage = document.getElementById('recipeImage');
            const recipeCuisine = document.getElementById('recipeCuisine');
            const recipeDishType = document.getElementById('recipeDishType');
            const recipeCookingTime = document.getElementById('recipeCookingTime');
            const recipeDifficulty = document.getElementById('recipeDifficulty');
            const recipeIngredients = document.getElementById('recipeIngredients');
            const recipeInstructions = document.getElementById('recipeInstructions');

            recipeForm.addEventListener('submit', async function(e) {
                e.preventDefault();

                // Show loading state
                const submitBtn = recipeForm.querySelector('button[type="submit"]');
                submitBtn.innerHTML = 'Generating Recipe <span class="loading"></span>';
                submitBtn.disabled = true;

                // Simulate API call to generate recipe
                try {
                    const formData = new FormData(recipeForm);
                    const recipeData = await generateRecipe(formData);

                    // Display generated recipe
                    recipeTitle.textContent = recipeData.title;
                    recipeImage.src = recipeData.image;
                    recipeImage.alt = recipeData.title;
                    recipeCuisine.textContent = recipeData.cuisine;
                    recipeDishType.textContent = recipeData.dishType;
                    recipeCookingTime.textContent = recipeData.cookingTime;
                    recipeDifficulty.textContent = recipeData.difficulty;

                    // Clear previous ingredients and instructions
                    recipeIngredients.innerHTML = '';
                    recipeInstructions.innerHTML = '';

                    // Add ingredients
                    recipeData.ingredients.forEach(ingredient => {
                        const li = document.createElement('li');
                        li.textContent = ingredient;
                        recipeIngredients.appendChild(li);
                    });

                    // Add instructions
                    recipeData.instructions.forEach((instruction, index) => {
                        const li = document.createElement('li');
                        li.textContent = `${index + 1}. ${instruction}`;
                        recipeInstructions.appendChild(li);
                    });

                    // Initialize WaveSurfer for recipe audio
                    initializeWaveSurfer(recipeData.audio);

                    // Show generated recipe
                    generatedRecipe.style.display = 'block';

                    // Scroll to generated recipe
                    generatedRecipe.scrollIntoView({ behavior: 'smooth' });
                } catch (error) {
                    console.error('Error generating recipe:', error);
                    alert('An error occurred while generating the recipe. Please try again.');
                } finally {
                    // Reset button state
                    submitBtn.innerHTML = 'Generate Recipe';
                    submitBtn.disabled = false;
                }
            });

            // Save recipe button
            const saveRecipeBtn = document.getElementById('saveRecipe');
            saveRecipeBtn.addEventListener('click', function() {
                // Simulate saving recipe
                alert('Recipe saved successfully!');
            });

            // Generate similar recipe button
            const generateSimilarBtn = document.getElementById('generateSimilar');
            generateSimilarBtn.addEventListener('click', function() {
                // Simulate generating similar recipe
                alert('Generating similar recipe...');
            });

            // Search form submission
            const searchForm = document.getElementById('searchForm');
            const searchResults = document.getElementById('searchResults');

            searchForm.addEventListener('submit', async function(e) {
                e.preventDefault();

                // Show loading state
                const submitBtn = searchForm.querySelector('button[type="submit"]');
                submitBtn.innerHTML = 'Searching <span class="loading"></span>';
                submitBtn.disabled = true;

                // Simulate API call to search recipes
                try {
                    const formData = new FormData(searchForm);
                    const searchData = await searchRecipes(formData);

                    // Clear previous search results
                    searchResults.innerHTML = '';

                    // Display search results
                    if (searchData.length > 0) {
                        searchData.forEach(recipe => {
                            const recipeCard = document.createElement('div');
                            recipeCard.className = 'card recipe-card';
                            recipeCard.innerHTML = `
                                <div class="recipe-image">
                                    <img src="${recipe.image}" alt="${recipe.title}">
                                </div>
                                <div class="recipe-details">
                                    <h3>${recipe.title}</h3>
                                    <p><strong>Cuisine:</strong> ${recipe.cuisine}</p>
                                    <p><strong>Dish Type:</strong> ${recipe.dishType}</p>
                                    <p><strong>Cooking Time:</strong> ${recipe.cookingTime} minutes</p>
                                    <p><strong>Difficulty:</strong> ${recipe.difficulty}</p>
                                </div>
                                <div class="recipe-actions">
                                    <button class="btn view-recipe" data-id="${recipe.id}">View Recipe</button>
                                    <button class="btn btn-secondary add-to-plan" data-id="${recipe.id}">Add to Meal Plan</button>
                                </div>
                            `;
                            searchResults.appendChild(recipeCard);
                        });

                        // Show search results
                        searchResults.style.display = 'grid';

                        // Add event listeners to view recipe buttons
                        document.querySelectorAll('.view-recipe').forEach(button => {
                            button.addEventListener('click', function() {
                                const recipeId = this.getAttribute('data-id');
                                viewRecipe(recipeId);
                            });
                        });

                        // Add event listeners to add to meal plan buttons
                        document.querySelectorAll('.add-to-plan').forEach(button => {
                            button.addEventListener('click', function() {
                                const recipeId = this.getAttribute('data-id');
                                addToMealPlan(recipeId);
                            });
                        });
                    } else {
                        searchResults.innerHTML = '<p>No recipes found. Try adjusting your search criteria.</p>';
                        searchResults.style.display = 'block';
                    }

                    // Scroll to search results
                    searchResults.scrollIntoView({ behavior: 'smooth' });
                } catch (error) {
                    console.error('Error searching recipes:', error);
                    alert('An error occurred while searching for recipes. Please try again.');
                } finally {
                    // Reset button state
                    submitBtn.innerHTML = 'Search Recipes';
                    submitBtn.disabled = false;
                }
            });

            // Meal plan form submission
            const mealPlanForm = document.getElementById('mealPlanForm');
            const generatedMealPlan = document.getElementById('generatedMealPlan');

            mealPlanForm.addEventListener('submit', async function(e) {
                e.preventDefault();

                // Show loading state
                const submitBtn = mealPlanForm.querySelector('button[type="submit"]');
                submitBtn.innerHTML = 'Generating Meal Plan <span class="loading"></span>';
                submitBtn.disabled = true;

                // Simulate API call to generate meal plan
                try {
                    const formData = new FormData(mealPlanForm);
                    const mealPlanData = await generateMealPlan(formData);

                    // Clear previous meal plan
                    generatedMealPlan.innerHTML = '';

                    // Display generated meal plan
                    if (mealPlanData.days.length > 0) {
                        mealPlanData.days.forEach(day => {
                            const mealDay = document.createElement('div');
                            mealDay.className = 'meal-day';
                            mealDay.innerHTML = `
                                <h3>${day.date}</h3>
                                ${day.meals.map(meal => `
                                    <div class="meal-item">
                                        <div class="meal-time">${meal.time}</div>
                                        <div class="meal-recipe">${meal.recipe}</div>
                                        <div class="meal-actions">
                                            <button class="view-recipe" data-id="${meal.recipeId}" aria-label="View Recipe"><i class="fas fa-eye"></i></button>
                                            <button class="remove-meal" data-id="${meal.id}" aria-label="Remove from Meal Plan"><i class="fas fa-trash"></i></button>
                                        </div>
                                    </div>
                                `).join('')}
                            `;
                            generatedMealPlan.appendChild(mealDay);
                        });

                        // Add event listeners to view recipe buttons
                        document.querySelectorAll('.view-recipe').forEach(button => {
                            button.addEventListener('click', function() {
                                const recipeId = this.getAttribute('data-id');
                                viewRecipe(recipeId);
                            });
                        });

                        // Add event listeners to remove meal buttons
                        document.querySelectorAll('.remove-meal').forEach(button => {
                            button.addEventListener('click', function() {
                                const mealId = this.getAttribute('data-id');
                                removeMeal(mealId);
                            });
                        });
                    } else {
                        generatedMealPlan.innerHTML = '<p>No meals found in the meal plan.</p>';
                    }

                    // Show generated meal plan
                    generatedMealPlan.style.display = 'block';

                    // Scroll to generated meal plan
                    generatedMealPlan.scrollIntoView({ behavior: 'smooth' });
                } catch (error) {
                    console.error('Error generating meal plan:', error);
                    alert('An error occurred while generating the meal plan. Please try again.');
                } finally {
                    // Reset button state
                    submitBtn.innerHTML = 'Generate Meal Plan';
                    submitBtn.disabled = false;
                }
            });

            // Initialize WaveSurfer
            function initializeWaveSurfer(audioUrl) {
                const wavesurferContainer = document.getElementById('wavesurfer');

                // Clear previous wavesurfer instance
                wavesurferContainer.innerHTML = '';

                // Create new wavesurfer instance
                const wavesurfer = WaveSurfer.create({
                    container: wavesurferContainer,
                    waveColor: '#4ecdc4',
                    progressColor: '#ff6b6b',
                    cursorColor: '#ff6b6b',
                    barWidth: 2,
                    barRadius: 3,
                    cursorWidth: 1,
                    height: 100,
                    barGap: 2
                });

                // Load audio file
                wavesurfer.load(audioUrl);

                // Add regions for cooking steps
                wavesurfer.on('ready', function() {
                    // Simulate adding regions for cooking steps
                    wavesurfer.addRegion({
                        start: 0,
                        end: 10,
                        color: 'rgba(78, 205, 196, 0.3)',
                        drag: false,
                        resize: false
                    });

                    wavesurfer.addRegion({
                        start: 10,
                        end: 25,
                        color: 'rgba(78, 205, 196, 0.3)',
                        drag: false,
                        resize: false
                    });

                    wavesurfer.addRegion({
                        start: 25,
                        end: 40,
                        color: 'rgba(78, 205, 196, 0.3)',
                        drag: false,
                        resize: false
                    });
                });
            }

            // Simulated API call to generate recipe
            async function generateRecipe(formData) {
                // Simulate API delay
                await new Promise(resolve => setTimeout(resolve, 1500));

                // Simulate API response
                const dishType = formData.get('dishType');
                const cuisine = formData.get('cuisine');
                const ingredients = formData.get('ingredients') || '';
                const dietaryRestrictions = formData.get('dietaryRestrictions') || '';
                const cookingTime = formData.get('cookingTime') || '30';
                const difficulty = formData.get('difficulty') || 'medium';

                // Generate random recipe based on form data
                const recipeTitle = `${capitalizeFirstLetter(cuisine)} ${capitalizeFirstLetter(dishType)}`;
                const recipeImage = `https://source.unsplash.com/random/600x400/?${cuisine},${dishType}`;

                // Generate random ingredients based on form data
                const ingredientList = ingredients.split(',').filter(item => item.trim() !== '').map(item => item.trim());
                if (ingredientList.length < 5) {
                    // Add some random ingredients if not provided
                    const randomIngredients = ['tomatoes', 'garlic', 'onions', 'olive oil', 'salt', 'pepper', 'chicken', 'beef', 'pasta', 'rice'];
                    while (ingredientList.length < 5) {
                        const randomIngredient = randomIngredients[Math.floor(Math.random() * randomIngredients.length)];
                        if (!ingredientList.includes(randomIngredient)) {
                            ingredientList.push(randomIngredient);
                        }
                    }
                }

                // Generate random instructions
                const instructions = [];
                for (let i = 0; i < 5; i++) {
                    instructions.push(`Step ${i + 1}: Perform cooking action related to ${ingredientList[i % ingredientList.length]}.`);
                }

                // Generate random audio URL
                const audioUrl = 'https://example.com/recipe-audio.mp3';

                return {
                    title: recipeTitle,
                    image: recipeImage,
                    cuisine: capitalizeFirstLetter(cuisine),
                    dishType: capitalizeFirstLetter(dishType),
                    cookingTime: cookingTime,
                    difficulty: capitalizeFirstLetter(difficulty),
                    ingredients: ingredientList,
                    instructions: instructions,
                    audio: audioUrl
                };
            }

            // Simulated API call to search recipes
            async function searchRecipes(formData) {
                // Simulate API delay
                await new Promise(resolve => setTimeout(resolve, 1500));

                // Simulate API response
                const searchQuery = formData.get('searchQuery') || '';
                const cuisine = formData.get('searchCuisine') || '';
                const dishType = formData.get('searchDishType') || '';
                const dietaryRestrictions = formData.get('searchDietaryRestrictions') || '';

                // Generate random search results based on form data
                const searchResults = [];
                const numResults = Math.floor(Math.random() * 10) + 1;

                for (let i = 0; i < numResults; i++) {
                    const randomCuisine = cuisine || ['Italian', 'Mexican', 'Indian', 'Chinese', 'Japanese', 'French', 'American', 'Thai', 'Mediterranean'][Math.floor(Math.random() * 9)];
                    const randomDishType = dishType || ['Appetizer', 'Main Course', 'Dessert', 'Salad', 'Soup', 'Drink'][Math.floor(Math.random() * 6)];
                    const randomDifficulty = ['Easy', 'Medium', 'Hard'][Math.floor(Math.random() * 3)];

                    searchResults.push({
                        id: `recipe-${i + 1}`,
                        title: `${randomCuisine} ${randomDishType}`,
                        image: `https://source.unsplash.com/random/600x400/?${randomCuisine},${randomDishType}`,
                        cuisine: randomCuisine,
                        dishType: randomDishType,
                        cookingTime: Math.floor(Math.random() * 60) + 10,
                        difficulty: randomDifficulty
                    });
                }

                return searchResults;
            }

            // Simulated API call to generate meal plan
            async function generateMealPlan(formData) {
                // Simulate API delay
                await new Promise(resolve => setTimeout(resolve, 1500));

                // Simulate API response
                const startDate = new Date(formData.get('startDate'));
                const numDays = parseInt(formData.get('numDays'));
                const dietaryRestrictions = formData.get('mealPlanDietaryRestrictions') || '';

                // Generate random meal plan based on form data
                const mealPlan = {
                    days: []
                };

                for (let i = 0; i < numDays; i++) {
                    const currentDate = new Date(startDate);
                    currentDate.setDate(startDate.getDate() + i);

                    const day = {
                        date: currentDate.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' }),
                        meals: []
                    };

                    // Add breakfast
                    day.meals.push({
                        id: `meal-${i}-1`,
                        time: 'Breakfast',
                        recipe: 'Scrambled Eggs with Toast',
                        recipeId: `recipe-${i}-1`
                    });

                    // Add lunch
                    day.meals.push({
                        id: `meal-${i}-2`,
                        time: 'Lunch',
                        recipe: 'Grilled Chicken Salad',
                        recipeId: `recipe-${i}-2`
                    });

                    // Add dinner
                    day.meals.push({
                        id: `meal-${i}-3`,
                        time: 'Dinner',
                        recipe: 'Spaghetti Bolognese',
                        recipeId: `recipe-${i}-3`
                    });

                    mealPlan.days.push(day);
                }

                return mealPlan;
            }

            // View recipe function
            function viewRecipe(recipeId) {
                // Simulate viewing recipe
                alert(`Viewing recipe with ID: ${recipeId}`);
            }

            // Add to meal plan function
            function addToMealPlan(recipeId) {
                // Simulate adding recipe to meal plan
                alert(`Adding recipe with ID ${recipeId} to meal plan`);
            }

            // Remove meal function
            function removeMeal(mealId) {
                // Simulate removing meal from meal plan
                alert(`Removing meal with ID: ${mealId}`);
            }

            // Helper function to capitalize first letter of a string
            function capitalizeFirstLetter(string) {
                return string.charAt(0).toUpperCase() + string.slice(1);
            }

            // Simulate loading WaveSurfer.js
            const wavesurferScript = document.createElement('script');
            wavesurferScript.src = 'https://unpkg.com/wavesurfer.js';
            wavesurferScript.onload = function() {
                // WaveSurfer.js is loaded and ready to use
            };
            document.head.appendChild(wavesurferScript);

            // Simulate loading Font Awesome for icons
            const fontAwesomeLink = document.createElement('link');
            fontAwesomeLink.rel = 'stylesheet';
            fontAwesomeLink.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css';
            document.head.appendChild(fontAwesomeLink);
        });
    </script>
</body>
</html>