<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perplexity Web Research Assistant Pro</title>
    <meta name="description" content="Advanced web research tool with Perplexity API integration">
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #166088;
            --accent-color: #4fc3f7;
            --text-color: #333;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --font-main: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-main);
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--light-color);
            display: grid;
            grid-template-rows: auto 1fr auto;
            min-height: 100vh;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: clamp(1.5rem, 4vw, 2rem);
            font-weight: bold;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 1.5rem;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        nav ul li a:hover {
            color: var(--accent-color);
        }

        main {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        .search-section {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .search-form {
            display: grid;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        input[type="text"],
        textarea,
        select {
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: var(--font-main);
            font-size: 1rem;
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: var(--secondary-color);
        }

        .advanced-options {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #eee;
        }

        .toggle-advanced {
            background: none;
            color: var(--primary-color);
            padding: 0;
            text-decoration: underline;
            cursor: pointer;
        }

        .results-section {
            display: none;
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .results-title {
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .export-btn {
            background-color: var(--accent-color);
        }

        .export-btn:hover {
            background-color: #1a90ff;
        }

        .research-results {
            display: grid;
            gap: 2rem;
        }

        .result-item {
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 1.5rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .result-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .result-title {
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
            color: var(--secondary-color);
        }

        .result-source {
            color: #666;
            font-style: italic;
            margin-bottom: 1rem;
        }

        .result-content {
            margin-bottom: 1rem;
        }

        .result-meta {
            display: flex;
            justify-content: space-between;
            color: #666;
            font-size: 0.9rem;
        }

        .verification-status {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .verified {
            background-color: rgba(40, 167, 69, 0.2);
            color: var(--success-color);
        }

        .unverified {
            background-color: rgba(255, 193, 7, 0.2);
            color: var(--warning-color);
        }

        .citation-btn {
            background-color: var(--accent-color);
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }

        .citation-btn:hover {
            background-color: #1a90ff;
        }

        .citation-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .citation-content {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .citation-form {
            display: grid;
            gap: 1rem;
        }

        .citation-preview {
            margin-top: 1rem;
            padding: 1rem;
            background-color: #f8f9fa;
            border-radius: 4px;
            white-space: pre-wrap;
        }

        .methodology-section {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .methodology-title {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .methodology-steps {
            display: grid;
            gap: 1.5rem;
        }

        .methodology-step {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 1rem;
            align-items: center;
        }

        .step-number {
            background-color: var(--primary-color);
            color: white;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
        }

        .step-content {
            border-left: 3px solid var(--primary-color);
            padding-left: 1rem;
        }

        .step-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 2rem 1rem;
            text-align: center;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .footer-links a {
            color: white;
            margin: 0 1rem;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--accent-color);
        }

        .copyright {
            font-size: 0.9rem;
            color: #aaa;
        }

        @media (min-width: 768px) {
            main {
                grid-template-columns: 2fr 1fr;
            }

            .search-form {
                grid-template-columns: 1fr 1fr;
                gap: 1.5rem;
            }

            .form-group.full-width {
                grid-column: span 2;
            }

            .results-header {
                flex-direction: row;
            }
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-left: 1rem;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .error-message {
            color: var(--danger-color);
            margin-top: 0.5rem;
            font-size: 0.9rem;
        }
    </style>
</head>
<body x-data="researchApp()" x-init="init()">
    <header>
        <div class="header-container">
            <div class="logo">Perplexity Research Pro</div>
            <nav>
                <ul>
                    <li><a href="#" x-on:click.prevent="showSection('search')">Search</a></li>
                    <li><a href="#" x-on:click.prevent="showSection('methodology')">Methodology</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="search-section" x-show="currentSection === 'search'">
            <form class="search-form" x-on:submit.prevent="search">
                <div class="form-group full-width">
                    <label for="query">Search Query</label>
                    <input type="text" id="query" x-model="query" required>
                    <div class="error-message" x-show="errors.query" x-text="errors.query"></div>
                </div>

                <div class="form-group">
                    <label for="focus">Focus Area</label>
                    <select id="focus" x-model="focus">
                        <option value="">General</option>
                        <option value="academic">Academic</option>
                        <option value="news">News</option>
                        <option value="scientific">Scientific</option>
                        <option value="technical">Technical</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="depth">Search Depth</label>
                    <select id="depth" x-model="depth">
                        <option value="basic">Basic</option>
                        <option value="deep">Deep</option>
                        <option value="exhaustive">Exhaustive</option>
                    </select>
                </div>

                <div class="form-group full-width">
                    <button type="submit" :disabled="isLoading">
                        <span x-text="isLoading ? 'Searching...' : 'Search'"></span>
                        <span class="loading" x-show="isLoading"></span>
                    </button>
                </div>

                <div class="advanced-options" x-show="showAdvanced">
                    <h3>Advanced Options</h3>

                    <div class="form-group">
                        <label for="language">Language</label>
                        <select id="language" x-model="language">
                            <option value="en">English</option>
                            <option value="es">Spanish</option>
                            <option value="fr">French</option>
                            <option value="de">German</option>
                            <option value="zh">Chinese</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="timeframe">Timeframe</label>
                        <select id="timeframe" x-model="timeframe">
                            <option value="any">Any Time</option>
                            <option value="day">Last 24 Hours</option>
                            <option value="week">Last Week</option>
                            <option value="month">Last Month</option>
                            <option value="year">Last Year</option>
                        </select>
                    </div>

                    <div class="form-group full-width">
                        <label for="sources">Preferred Sources (comma separated)</label>
                        <input type="text" id="sources" x-model="sources">
                    </div>

                    <div class="form-group full-width">
                        <label for="exclude">Exclude Terms (comma separated)</label>
                        <input type="text" id="exclude" x-model="exclude">
                    </div>
                </div>

                <div class="form-group full-width">
                    <button type="button" class="toggle-advanced" x-on:click="toggleAdvanced">
                        <span x-text="showAdvanced ? 'Hide Advanced Options' : 'Show Advanced Options'"></span>
                    </button>
                </div>
            </form>
        </section>

        <section class="results-section" x-show="currentSection === 'results' && results.length > 0">
            <div class="results-header">
                <h2 class="results-title">Research Results</h2>
                <button class="export-btn" x-on:click="exportResults">Export Results</button>
            </div>

            <div class="research-results">
                <template x-for="(result, index) in results" :key="index">
                    <div class="result-item">
                        <h3 class="result-title" x-text="result.title"></h3>
                        <div class="result-source" x-text="result.source"></div>
                        <div class="result-content" x-text="result.content"></div>
                        <div class="result-meta">
                            <div class="verification-status" :class="result.verified ? 'verified' : 'unverified'">
                                <span x-text="result.verified ? 'Verified' : 'Unverified'"></span>
                            </div>
                            <div>Published: <span x-text="result.date"></span></div>
                            <button class="citation-btn" x-on:click="openCitationModal(result)">Generate Citation</button>
                        </div>
                    </div>
                </template>
            </div>
        </section>

        <section class="methodology-section" x-show="currentSection === 'methodology'">
            <h2 class="methodology-title">Research Methodology</h2>

            <div class="methodology-steps">
                <div class="methodology-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <div class="step-title">Query Formulation</div>
                        <p>Define your research question and formulate a clear, concise search query.</p>
                    </div>
                </div>

                <div class="methodology-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <div class="step-title">Search Execution</div>
                        <p>Execute the search using Perplexity's advanced algorithms to gather relevant information.</p>
                    </div>
                </div>

                <div class="methodology-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <div class="step-title">Source Verification</div>
                        <p>Verify the credibility and reliability of each source using our automated verification system.</p>
                    </div>
                </div>

                <div class="methodology-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <div class="step-title">Content Analysis</div>
                        <p>Analyze the content of each result to ensure it addresses your research question.</p>
                    </div>
                </div>

                <div class="methodology-step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <div class="step-title">Citation Generation</div>
                        <p>Generate proper citations for each source in your preferred format.</p>
                    </div>
                </div>

                <div class="methodology-step">
                    <div class="step-number">6</div>
                    <div class="step-content">
                        <div class="step-title">Report Compilation</div>
                        <p>Compile your findings into a comprehensive report with proper citations and references.</p>
                    </div>
                </div>
            </div>
        </section>

        <div class="citation-modal" x-show="showCitationModal" x-on:click.self="closeCitationModal">
            <div class="citation-content">
                <button class="close-modal" x-on:click="closeCitationModal">&times;</button>
                <h3>Generate Citation</h3>

                <form class="citation-form" x-on:submit.prevent="generateCitation">
                    <div class="form-group">
                        <label for="citation-style">Citation Style</label>
                        <select id="citation-style" x-model="citationStyle">
                            <option value="apa">APA</option>
                            <option value="mla">MLA</option>
                            <option value="chicago">Chicago</option>
                            <option value="harvard">Harvard</option>
                            <option value="ieee">IEEE</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="citation-language">Language</label>
                        <select id="citation-language" x-model="citationLanguage">
                            <option value="en">English</option>
                            <option value="es">Spanish</option>
                            <option value="fr">French</option>
                            <option value="de">German</option>
                        </select>
                    </div>

                    <div class="form-group full-width">
                        <button type="submit">Generate Citation</button>
                    </div>
                </form>

                <div class="citation-preview" x-show="citationPreview">
                    <h4>Citation Preview</h4>
                    <div x-text="citationPreview"></div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Contact Us</a>
            </div>
            <div class="copyright">
                &copy; 2023 Perplexity Research Pro. All rights reserved.
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('researchApp', () => ({
                currentSection: 'search',
                query: '',
                focus: '',
                depth: 'basic',
                language: 'en',
                timeframe: 'any',
                sources: '',
                exclude: '',
                showAdvanced: false,
                isLoading: false,
                results: [],
                errors: {},
                showCitationModal: false,
                currentResult: null,
                citationStyle: 'apa',
                citationLanguage: 'en',
                citationPreview: '',

                init() {
                    // Initialize any required data
                },

                showSection(section) {
                    this.currentSection = section;
                },

                toggleAdvanced() {
                    this.showAdvanced = !this.showAdvanced;
                },

                validateForm() {
                    this.errors = {};

                    if (!this.query.trim()) {
                        this.errors.query = 'Search query is required';
                    }

                    return Object.keys(this.errors).length === 0;
                },

                async search() {
                    if (!this.validateForm()) {
                        return;
                    }

                    this.isLoading = true;
                    this.results = [];

                    try {
                        // Simulate API call to Perplexity's search API
                        await new Promise(resolve => setTimeout(resolve, 1500));

                        // Generate mock results
                        this.results = this.generateMockResults();

                        this.currentSection = 'results';
                    } catch (error) {
                        console.error('Search error:', error);
                        alert('An error occurred during the search. Please try again.');
                    } finally {
                        this.isLoading = false;
                    }
                },

                generateMockResults() {
                    const mockResults = [];
                    const resultCount = Math.floor(Math.random() * 5) + 3;

                    for (let i = 0; i < resultCount; i++) {
                        mockResults.push({
                            title: `Research Result ${i + 1} on ${this.query}`,
                            source: `Source ${i + 1} - ${this.getRandomSource()}`,
                            content: this.generateMockContent(),
                            verified: Math.random() > 0.3,
                            date: this.getRandomDate()
                        });
                    }

                    return mockResults;
                },

                generateMockContent() {
                    const sentences = [
                        "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
                        "Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",
                        "Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.",
                        "Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.",
                        "Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                        "Nulla facilisi. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam.",
                        "Sed nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis ipsum."
                    ];

                    const sentenceCount = Math.floor(Math.random() * 3) + 2;
                    let content = '';

                    for (let i = 0; i < sentenceCount; i++) {
                        const randomIndex = Math.floor(Math.random() * sentences.length);
                        content += sentences[randomIndex] + ' ';
                    }

                    return content.trim();
                },

                getRandomSource() {
                    const sources = [
                        'Academic Journal',
                        'News Website',
                        'Scientific Database',
                        'Government Publication',
                        'Educational Institution',
                        'Research Institute',
                        'Online Encyclopedia'
                    ];

                    return sources[Math.floor(Math.random() * sources.length)];
                },

                getRandomDate() {
                    const start = new Date(2020, 0, 1);
                    const end = new Date();
                    const randomDate = new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));

                    return randomDate.toLocaleDateString('en-US', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                },

                exportResults() {
                    if (this.results.length === 0) {
                        alert('No results to export');
                        return;
                    }

                    let csvContent = "data:text/csv;charset=utf-8,";
                    csvContent += "Title,Source,Content,Verified,Date\n";

                    this.results.forEach(result => {
                        const row = [
                            `"${result.title.replace(/"/g, '""')}"`,
                            `"${result.source.replace(/"/g, '""')}"`,
                            `"${result.content.replace(/"/g, '""')}"`,
                            result.verified ? "Yes" : "No",
                            `"${result.date}"`
                        ];
                        csvContent += row.join(",") + "\n";
                    });

                    const encodedUri = encodeURI(csvContent);
                    const link = document.createElement("a");
                    link.setAttribute("href", encodedUri);
                    link.setAttribute("download", "research_results.csv");
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                },

                openCitationModal(result) {
                    this.currentResult = result;
                    this.citationPreview = '';
                    this.showCitationModal = true;
                },

                closeCitationModal() {
                    this.showCitationModal = false;
                },

                async generateCitation() {
                    if (!this.currentResult) return;

                    // Simulate API call to generate citation
                    await new Promise(resolve => setTimeout(resolve, 1000));

                    // Generate mock citation based on style
                    this.citationPreview = this.generateMockCitation();
                },

                generateMockCitation() {
                    const author = this.getRandomName();
                    const year = new Date(this.currentResult.date).getFullYear();

                    switch (this.citationStyle) {
                        case 'apa':
                            return `${author} (${year}). ${this.currentResult.title}. ${this.currentResult.source}.`;
                        case 'mla':
                            return `${author}. "${this.currentResult.title}." ${this.currentResult.source}, ${year}.`;
                        case 'chicago':
                            return `${author}, "${this.currentResult.title}", ${this.currentResult.source}, ${year}.`;
                        case 'harvard':
                            return `${author}, ${year}, '${this.currentResult.title}', ${this.currentResult.source}.`;
                        case 'ieee':
                            return `${author}, "${this.currentResult.title}", ${this.currentResult.source}, ${year}.`;
                        default:
                            return `${author} (${year}). ${this.currentResult.title}. ${this.currentResult.source}.`;
                    }
                },

                getRandomName() {
                    const firstNames = ['John', 'Jane', 'Michael', 'Emily', 'David', 'Sarah', 'Robert', 'Jennifer'];
                    const lastNames = ['Smith', 'Johnson', 'Williams', 'Brown', 'Jones', 'Miller', 'Davis', 'Garcia'];

                    const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];
                    const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];

                    return `${firstName} ${lastName}`;
                }
            }));
        });
    </script>
</body>
</html>